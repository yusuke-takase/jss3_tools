<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Parallel simulation tutorial in SORA</title>
    <meta name="description" content="Parallel simulation tutorial in SORA">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Global stylesheet. We might switch to Bootstrap in the future -->
    <link rel="stylesheet" href="sakura.css">

    <!-- KaTeX files -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
      integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq"
      crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"
      integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
      crossorigin="anonymous">
    </script>

    <!-- To automatically render math in text elements, include the
    auto-render extension: -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"
      integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI"
      crossorigin="anonymous"
      onload="renderMathInElement(document.body);">
    </script>

  </head>

  <body>
    <div class="container">
      <h1 id="parallel-simulation-tutorial-in-sora">Parallel simulation tutorial in SORA</h1>
<p>The simulation starts at t0=0 and lasts 86400.0 seconds.</p>
<p>The seed used for the random number generator is 12345.</p>
<div class="toc">
<ul>
<li><a href="#parallel-simulation-tutorial-in-sora">Parallel simulation tutorial in SORA</a><ul>
<li><a href="#generation-of-spacecraft-quaternions">Generation of spacecraft quaternions</a></li>
<li><a href="#coverage-map">Coverage map</a></li>
<li><a href="#instrument-model-objects">Instrument model objects</a></li>
<li><a href="#source-code-used-in-the-simulation">Source code used in the simulation</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="generation-of-spacecraft-quaternions">Generation of spacecraft quaternions</h2>
<p>Quaternions have been created for the simulation:</p>
<ul>
<li>One quaternion every 60.0 seconds;</li>
<li>
<p>Memory usage: 46.1 kB</p>
<h2 id="coverage-map">Coverage map</h2>
<p>Here is the coverage map:</p>
<p><img alt="" src="coverage_map.png" /></p>
<p>The fraction of sky covered is 70628/196608 pixels
(35.9%).</p>
<p>The total number of hit is 172800.0</p>
</li>
</ul>
<h2 id="instrument-model-objects">Instrument model objects</h2>
<h2 id="source-code-used-in-the-simulation">Source code used in the simulation</h2>
<ul>
<li>Main repository: <a href="https://github.com/litebird/litebird_sim">github.com/litebird/litebird_sim</a></li>
<li>Version: 0.10.0, by The LiteBIRD simulation team</li>
<li>Commit hash: <a href="https://github.com/litebird/litebird_sim/commit/16311c01e4464a2affd9c6d301314d5e0fcb4bbc">16311c0</a>
    (commit comment: <em>test</em>, by yusuke-takase)</li>
</ul>
<p>Since the last commit, the following changes have been made to the
code that has been ran:</p>
<pre><code>diff --git a/example/SORA/.ipynb_checkpoints/get_hitmap_parallel-checkpoint.py b/example/SORA/.ipynb_checkpoints/get_hitmap_parallel-checkpoint.py
deleted file mode 100644
index 7e3a031..0000000
--- a/example/SORA/.ipynb_checkpoints/get_hitmap_parallel-checkpoint.py
+++ /dev/null
@@ -1,128 +0,0 @@
-import litebird_sim as lbs
-import healpy as hp
-import numpy as np
-import matplotlib.pylab as plt
-import astropy.units as u
-from mpi4py import MPI
-
-comm = lbs.MPI_COMM_WORLD
-rank = comm.Get_rank()
-size = comm.Get_size()
-print(&quot;Hello world: rank {} of {}&quot;.format(rank, size))
-
-sim = lbs.Simulation(
-    base_path   = &quot;./get_hitmap_parallel&quot;,
-    name        = &quot;Parallel simulation tutorial&quot;,
-    start_time  = 0,
-    duration_s  = 86400.,
-    random_seed = 12345,
-    mpi_comm    = comm,
-)
-
-alpha           = 45.
-beta            = 50.
-spin_rpm        = 0.05
-prec_period_min = 192.348
-
-sim.set_scanning_strategy(
-    scanning_strategy      = lbs.SpinningScanningStrategy(
-        spin_sun_angle_rad = np.deg2rad(alpha), 
-        spin_rate_hz       = spin_rpm / 60, 
-        precession_rate_hz = 1.0 / (prec_period_min * u.min).to(&quot;s&quot;).value,
-    )
-)
-
-sim.set_instrument(
-    lbs.InstrumentInfo(
-        name = &quot;Satellite&quot;,
-        spin_boresight_angle_rad = np.deg2rad(beta),
-    ),
-)
-
-sim.set_hwp(lbs.IdealHWP(ang_speed_radpsec = 0.0))
-
-det_list = [
-    lbs.DetectorInfo(
-        name             = &quot;Detector1&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, 0.07, 0., 0.9]
-    ),
-    lbs.DetectorInfo(
-        name             = &quot;Detector2&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, -0.07, 0., 0.9]
-    ),
-]
-
-print(&quot;Create observation&quot;)
-(obs,) = sim.create_observations(
-    detectors     = det_list,
-    n_blocks_det  = 1,
-    n_blocks_time = size,
-    split_list_over_processes = False
-)
-
-inst = lbs.InstrumentInfo(
-   name = &quot;Telescope&quot;, 
-   boresight_rotangle_rad   = 0.,
-   spin_boresight_angle_rad = np.deg2rad(beta),
-   spin_rotangle_rad        = 0.,
-)
-
-comm.barrier()
-pointings = lbs.pointings.get_pointings(
-   obs,
-   spin2ecliptic_quats    = sim.spin2ecliptic_quats,
-   bore2spin_quat         = inst.bore2spin_quat,
-   store_pointings_in_obs = False    #if True, stores colatitude and longitude in obs.pointings and the polarization angle in obs.psi
-)
-
-comm.barrier()
-print(f&quot;rank: {rank}, pointing shape: {pointings.shape}&quot;)
-
-nside  = 128
-npix   = hp.nside2npix(nside)
-if(rank==0):
-    hitmap = np.zeros(npix)
-else:
-    hitmap = None
-
-hitmap = comm.bcast(hitmap, root=0)    
-for i_det in range(len(det_list)):
-    pixels = hp.ang2pix(nside,
-                        pointings[i_det][:,0], #theta
-                        pointings[i_det][:,1]  #phi
-                       ) 
-    for ipix in pixels:
-        hitmap[ipix] += 1
-
-comm.barrier()
-hitmap = comm.allreduce(hitmap, op=MPI.SUM)
-
-print(f&quot;Gathered hitmap has {hitmap} as total hits.&quot;)
-if(rank==0):
-    hp.mollview(hitmap)
-    hp.write_map(sim.base_path / 'hitmap.fits', hitmap, overwrite=True, dtype=np.int64)
-
-
-    sim.append_to_report(&quot;&quot;&quot;
-
-    ## Coverage map
-
-    Here is the coverage map:
-
-    ![](coverage_map.png)
-
-    The fraction of sky covered is {{ seen }}/{{ total }} pixels
-    ({{ &quot;%.1f&quot; | format(percentage) }}%).
-
-    The total number of hit is {{total_hit}}
-    &quot;&quot;&quot;,
-        figures    = [(plt.gcf(), &quot;coverage_map.png&quot;)],
-        seen       = len(hitmap[hitmap &gt; 0]),
-        total      = len(hitmap),
-        percentage = 100.0 * len(hitmap[hitmap &gt; 0]) / len(hitmap),
-        total_hit  = hitmap.sum()
-    )
-
-    sim.flush()
\ No newline at end of file
diff --git a/example/SORA/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/SORA/.ipynb_checkpoints/run_parallel-checkpoint.py
deleted file mode 100644
index fc07fd3..0000000
--- a/example/SORA/.ipynb_checkpoints/run_parallel-checkpoint.py
+++ /dev/null
@@ -1,67 +0,0 @@
-import numpy as np
-import subprocess
-import sys
-import os 
-
-bizcode       = &quot;DU10503&quot;
-jss_account   = &quot;t541&quot;
-resource_unit = &quot;SORA&quot;
-node          = 1
-node_mem      = 28   # Unit: GiB, Upper limit=28GiB, Value when unspecified=28GiB
-mpi_process   = 4   # Upper limit of number of process per node is 48
-mode          = &quot;debug&quot; 
-job_name      = &quot;get_hitmap_parallel_sora&quot;
-
-#mode          = &quot;default&quot;
-user_email    = &quot;takase_y@s.okayama-u.ac.jp&quot;
-coderoot      = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example/SORA&quot;
-codename      = &quot;get_hitmap_parallel.py&quot;
-jobscript     = coderoot+&quot;/&quot;+&quot;run_&quot;+job_name+&quot;.pjm&quot;
-venv_base     = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/lbs_sora/bin/activate&quot;
-  
-elapse        = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
-if mode == &quot;debug&quot;:
-    elapse    = &quot;00:10:00&quot;
-
-
-script_contents = &quot;&quot;&quot;#!/bin/zsh
-#JX --bizcode {bizcode}
-#JX -L rscunit={resource_unit}
-#JX -L rscgrp={mode}
-#JX -L elapse={elapse}
-#JX -L node={node}
-#JX -L node-mem={node_mem}Gi
-#JX --mpi proc={mpi_process}
-#JX -o {coderoot}/log/%n_%j.out
-#JX -e {coderoot}/log/%n_%j.err
-#JX --spath {coderoot}/log/%n_%j.stats
-#JX -N {job_name}
-#JX -m e
-#JX --mail-list {user_email}
-#JX -S
-export OMP_NUM_THREADS=1
-
-module purge
-module load fjmpi-gcc/8.3.1
-module load /opt/JX/modulefiles/aarch64/python/3.9.1
-module load /opt/local/modulefiles/aarch64/mpi4py/3.1.4
-export LD_PRELOAD=/usr/lib/FJSVtcs/ple/lib64/libpmix.so
-
-source {venv_base}
-cd {coderoot}
-mpiexec -n {mpi_process} python {codename}
-&quot;&quot;&quot;
-
-script_contents = script_contents.format(**locals())
-f = open(jobscript, &quot;wt&quot;)
-f.write(script_contents)
-f.close()
-
-process = subprocess.Popen(&quot;jxsub &quot;+jobscript, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
-(stdout_data, stderr_data) = process.communicate()
-
-#print useful information
-print(&quot;out: &quot;+str(stdout_data).split('b\'')[1][:-3])
-print(&quot;err: &quot;+str(stderr_data).split('b\'')[1][:-3])
-print('')
-os.remove(jobscript)
diff --git a/example/SORA/get_hitmap_parallel.py b/example/SORA/get_hitmap_parallel.py
deleted file mode 100644
index 7e3a031..0000000
--- a/example/SORA/get_hitmap_parallel.py
+++ /dev/null
@@ -1,128 +0,0 @@
-import litebird_sim as lbs
-import healpy as hp
-import numpy as np
-import matplotlib.pylab as plt
-import astropy.units as u
-from mpi4py import MPI
-
-comm = lbs.MPI_COMM_WORLD
-rank = comm.Get_rank()
-size = comm.Get_size()
-print(&quot;Hello world: rank {} of {}&quot;.format(rank, size))
-
-sim = lbs.Simulation(
-    base_path   = &quot;./get_hitmap_parallel&quot;,
-    name        = &quot;Parallel simulation tutorial&quot;,
-    start_time  = 0,
-    duration_s  = 86400.,
-    random_seed = 12345,
-    mpi_comm    = comm,
-)
-
-alpha           = 45.
-beta            = 50.
-spin_rpm        = 0.05
-prec_period_min = 192.348
-
-sim.set_scanning_strategy(
-    scanning_strategy      = lbs.SpinningScanningStrategy(
-        spin_sun_angle_rad = np.deg2rad(alpha), 
-        spin_rate_hz       = spin_rpm / 60, 
-        precession_rate_hz = 1.0 / (prec_period_min * u.min).to(&quot;s&quot;).value,
-    )
-)
-
-sim.set_instrument(
-    lbs.InstrumentInfo(
-        name = &quot;Satellite&quot;,
-        spin_boresight_angle_rad = np.deg2rad(beta),
-    ),
-)
-
-sim.set_hwp(lbs.IdealHWP(ang_speed_radpsec = 0.0))
-
-det_list = [
-    lbs.DetectorInfo(
-        name             = &quot;Detector1&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, 0.07, 0., 0.9]
-    ),
-    lbs.DetectorInfo(
-        name             = &quot;Detector2&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, -0.07, 0., 0.9]
-    ),
-]
-
-print(&quot;Create observation&quot;)
-(obs,) = sim.create_observations(
-    detectors     = det_list,
-    n_blocks_det  = 1,
-    n_blocks_time = size,
-    split_list_over_processes = False
-)
-
-inst = lbs.InstrumentInfo(
-   name = &quot;Telescope&quot;, 
-   boresight_rotangle_rad   = 0.,
-   spin_boresight_angle_rad = np.deg2rad(beta),
-   spin_rotangle_rad        = 0.,
-)
-
-comm.barrier()
-pointings = lbs.pointings.get_pointings(
-   obs,
-   spin2ecliptic_quats    = sim.spin2ecliptic_quats,
-   bore2spin_quat         = inst.bore2spin_quat,
-   store_pointings_in_obs = False    #if True, stores colatitude and longitude in obs.pointings and the polarization angle in obs.psi
-)
-
-comm.barrier()
-print(f&quot;rank: {rank}, pointing shape: {pointings.shape}&quot;)
-
-nside  = 128
-npix   = hp.nside2npix(nside)
-if(rank==0):
-    hitmap = np.zeros(npix)
-else:
-    hitmap = None
-
-hitmap = comm.bcast(hitmap, root=0)    
-for i_det in range(len(det_list)):
-    pixels = hp.ang2pix(nside,
-                        pointings[i_det][:,0], #theta
-                        pointings[i_det][:,1]  #phi
-                       ) 
-    for ipix in pixels:
-        hitmap[ipix] += 1
-
-comm.barrier()
-hitmap = comm.allreduce(hitmap, op=MPI.SUM)
-
-print(f&quot;Gathered hitmap has {hitmap} as total hits.&quot;)
-if(rank==0):
-    hp.mollview(hitmap)
-    hp.write_map(sim.base_path / 'hitmap.fits', hitmap, overwrite=True, dtype=np.int64)
-
-
-    sim.append_to_report(&quot;&quot;&quot;
-
-    ## Coverage map
-
-    Here is the coverage map:
-
-    ![](coverage_map.png)
-
-    The fraction of sky covered is {{ seen }}/{{ total }} pixels
-    ({{ &quot;%.1f&quot; | format(percentage) }}%).
-
-    The total number of hit is {{total_hit}}
-    &quot;&quot;&quot;,
-        figures    = [(plt.gcf(), &quot;coverage_map.png&quot;)],
-        seen       = len(hitmap[hitmap &gt; 0]),
-        total      = len(hitmap),
-        percentage = 100.0 * len(hitmap[hitmap &gt; 0]) / len(hitmap),
-        total_hit  = hitmap.sum()
-    )
-
-    sim.flush()
\ No newline at end of file
diff --git a/example/SORA/get_hitmap_parallel/.ipynb_checkpoints/report-checkpoint.html b/example/SORA/get_hitmap_parallel/.ipynb_checkpoints/report-checkpoint.html
deleted file mode 100644
index a746fcc..0000000
--- a/example/SORA/get_hitmap_parallel/.ipynb_checkpoints/report-checkpoint.html
+++ /dev/null
@@ -1,117 +0,0 @@
-&lt;!doctype html&gt;
-
-&lt;html lang=&quot;en&quot;&gt;
-  &lt;head&gt;
-    &lt;meta charset=&quot;utf-8&quot;&gt;
-
-    &lt;title&gt;Parallel simulation tutorial&lt;/title&gt;
-    &lt;meta name=&quot;description&quot; content=&quot;Parallel simulation tutorial&quot;&gt;
-    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
-
-    &lt;!-- Global stylesheet. We might switch to Bootstrap in the future --&gt;
-    &lt;link rel=&quot;stylesheet&quot; href=&quot;sakura.css&quot;&gt;
-
-    &lt;!-- KaTeX files --&gt;
-    &lt;link
-      rel=&quot;stylesheet&quot;
-      href=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css&quot;
-      integrity=&quot;sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-
-    &lt;!-- The loading of KaTeX is deferred to speed up page rendering --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js&quot;
-      integrity=&quot;sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-    &lt;/script&gt;
-
-    &lt;!-- To automatically render math in text elements, include the
-    auto-render extension: --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js&quot;
-      integrity=&quot;sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI&quot;
-      crossorigin=&quot;anonymous&quot;
-      onload=&quot;renderMathInElement(document.body);&quot;&gt;
-    &lt;/script&gt;
-
-  &lt;/head&gt;
-
-  &lt;body&gt;
-    &lt;div class=&quot;container&quot;&gt;
-      &lt;h1 id=&quot;parallel-simulation-tutorial&quot;&gt;Parallel simulation tutorial&lt;/h1&gt;
-&lt;p&gt;The simulation starts at t0=0 and lasts 86400.0 seconds.&lt;/p&gt;
-&lt;p&gt;The seed used for the random number generator is 12345.&lt;/p&gt;
-&lt;div class=&quot;toc&quot;&gt;
-&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#parallel-simulation-tutorial&quot;&gt;Parallel simulation tutorial&lt;/a&gt;&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#coverage-map&quot;&gt;Coverage map&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#instrument-model-objects&quot;&gt;Instrument model objects&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/a&gt;&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/div&gt;
-&lt;h2 id=&quot;generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/h2&gt;
-&lt;p&gt;Quaternions have been created for the simulation:&lt;/p&gt;
-&lt;ul&gt;
-&lt;li&gt;One quaternion every 60.0 seconds;&lt;/li&gt;
-&lt;li&gt;
-&lt;p&gt;Memory usage: 46.1 kB&lt;/p&gt;
-&lt;h2 id=&quot;coverage-map&quot;&gt;Coverage map&lt;/h2&gt;
-&lt;p&gt;Here is the coverage map:&lt;/p&gt;
-&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;coverage_map.png&quot; /&gt;&lt;/p&gt;
-&lt;p&gt;The fraction of sky covered is 70733/196608 pixels
-(36.0%).&lt;/p&gt;
-&lt;p&gt;The total number of hit is 172800.0&lt;/p&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;h2 id=&quot;instrument-model-objects&quot;&gt;Instrument model objects&lt;/h2&gt;
-&lt;h2 id=&quot;source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/h2&gt;
-&lt;ul&gt;
-&lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
-&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&quot;&gt;cf5464d&lt;/a&gt;
-    (commit comment: &lt;em&gt;add README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-&lt;/ul&gt;
-&lt;p&gt;Since the last commit, the following changes have been made to the
-code that has been ran:&lt;/p&gt;
-&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 32e9e0a..be4fb79 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
- jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
--vnode_mem   = 24           # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
-+vnode_mem   = 24          # unit: GiB
-+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
-
- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 32e9e0a..be4fb79 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
- jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
--vnode_mem   = 24           # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
-+vnode_mem   = 24          # unit: GiB
-+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
-
- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-&lt;/code&gt;&lt;/pre&gt;
-&lt;hr /&gt;
-&lt;p&gt;Report written on 2023-08-31 20:03:33&lt;/p&gt;
-    &lt;/div&gt;
-
-&lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
diff --git a/example/SORA/get_hitmap_parallel/coverage_map.png b/example/SORA/get_hitmap_parallel/coverage_map.png
deleted file mode 100644
index 260efcd..0000000
Binary files a/example/SORA/get_hitmap_parallel/coverage_map.png and /dev/null differ
diff --git a/example/SORA/get_hitmap_parallel/hitmap.fits b/example/SORA/get_hitmap_parallel/hitmap.fits
deleted file mode 100644
index b613a1a..0000000
Binary files a/example/SORA/get_hitmap_parallel/hitmap.fits and /dev/null differ
diff --git a/example/SORA/get_hitmap_parallel/report.html b/example/SORA/get_hitmap_parallel/report.html
deleted file mode 100644
index 906b128..0000000
--- a/example/SORA/get_hitmap_parallel/report.html
+++ /dev/null
@@ -1,474 +0,0 @@
-&lt;!doctype html&gt;
-
-&lt;html lang=&quot;en&quot;&gt;
-  &lt;head&gt;
-    &lt;meta charset=&quot;utf-8&quot;&gt;
-
-    &lt;title&gt;Parallel simulation tutorial&lt;/title&gt;
-    &lt;meta name=&quot;description&quot; content=&quot;Parallel simulation tutorial&quot;&gt;
-    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
-
-    &lt;!-- Global stylesheet. We might switch to Bootstrap in the future --&gt;
-    &lt;link rel=&quot;stylesheet&quot; href=&quot;sakura.css&quot;&gt;
-
-    &lt;!-- KaTeX files --&gt;
-    &lt;link
-      rel=&quot;stylesheet&quot;
-      href=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css&quot;
-      integrity=&quot;sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-
-    &lt;!-- The loading of KaTeX is deferred to speed up page rendering --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js&quot;
-      integrity=&quot;sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-    &lt;/script&gt;
-
-    &lt;!-- To automatically render math in text elements, include the
-    auto-render extension: --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js&quot;
-      integrity=&quot;sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI&quot;
-      crossorigin=&quot;anonymous&quot;
-      onload=&quot;renderMathInElement(document.body);&quot;&gt;
-    &lt;/script&gt;
-
-  &lt;/head&gt;
-
-  &lt;body&gt;
-    &lt;div class=&quot;container&quot;&gt;
-      &lt;h1 id=&quot;parallel-simulation-tutorial&quot;&gt;Parallel simulation tutorial&lt;/h1&gt;
-&lt;p&gt;The simulation starts at t0=0 and lasts 86400.0 seconds.&lt;/p&gt;
-&lt;p&gt;The seed used for the random number generator is 12345.&lt;/p&gt;
-&lt;div class=&quot;toc&quot;&gt;
-&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#parallel-simulation-tutorial&quot;&gt;Parallel simulation tutorial&lt;/a&gt;&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#coverage-map&quot;&gt;Coverage map&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#instrument-model-objects&quot;&gt;Instrument model objects&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/a&gt;&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/div&gt;
-&lt;h2 id=&quot;generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/h2&gt;
-&lt;p&gt;Quaternions have been created for the simulation:&lt;/p&gt;
-&lt;ul&gt;
-&lt;li&gt;One quaternion every 60.0 seconds;&lt;/li&gt;
-&lt;li&gt;
-&lt;p&gt;Memory usage: 46.1 kB&lt;/p&gt;
-&lt;h2 id=&quot;coverage-map&quot;&gt;Coverage map&lt;/h2&gt;
-&lt;p&gt;Here is the coverage map:&lt;/p&gt;
-&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;coverage_map.png&quot; /&gt;&lt;/p&gt;
-&lt;p&gt;The fraction of sky covered is 70628/196608 pixels
-(35.9%).&lt;/p&gt;
-&lt;p&gt;The total number of hit is 172800.0&lt;/p&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;h2 id=&quot;instrument-model-objects&quot;&gt;Instrument model objects&lt;/h2&gt;
-&lt;h2 id=&quot;source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/h2&gt;
-&lt;ul&gt;
-&lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
-&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-&lt;/ul&gt;
-&lt;p&gt;Since the last commit, the following changes have been made to the
-code that has been ran:&lt;/p&gt;
-&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 7c5218b..06085c9 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
- port        = 7123 
-
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 7c5218b..06085c9 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
- port        = 7123 
-
-diff --git a/example/.d0026722526 b/example/.d0026722526
-deleted file mode 100755
-index c7f9259..0000000
---- a/example/.d0026722526
-+++ /dev/null
-@@ -1,18 +0,0 @@
--#!/bin/zsh
--#JX --bizcode DU10503
--#JX -L rscunit=RURI
--#JX -L vnode=1
--#JX -L vnode-core=1
--#JX -L vnode-mem=24Gi
--#JX -L elapse=4:00:00
--#JX -L jobenv=singularity
--#JX -o /data/t/t541/.log/jupyter/%n_%j.out
--#JX -e /data/t/t541/.log/jupyter/%n_%j.err
--#JX --spath /data/t/t541/.log/%n_%j.stats
--#JX -N jupyter
--#JX -S
--
--source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
--module load singularity
--singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-\ No newline at end of file
-diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-deleted file mode 100755
-index 17ac2a5..0000000
---- a/example/.d0026722526_nodeinfo
-+++ /dev/null
-@@ -1 +0,0 @@
--10.3.16.23
-diff --git a/example/.d0026722526e b/example/.d0026722526e
-deleted file mode 100755
-index b783ee3..0000000
---- a/example/.d0026722526e
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing epilogue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-diff --git a/example/.d0026722526p b/example/.d0026722526p
-deleted file mode 100755
-index 3c051a0..0000000
---- a/example/.d0026722526p
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing prologue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-index d16693f..fc48809 100644
---- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
- coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
- lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
- jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-+conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-
- elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
- if mode == &amp;quot;debug&amp;quot;:
-@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
-
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
-
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
-
- cd {coderoot}
-diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
-index 2857590..4ba8dde 100644
---- a/example/get_hitmap_serial/report.html
-+++ b/example/get_hitmap_serial/report.html
-@@ -71,20 +71,100 @@
- &amp;lt;ul&amp;gt;
- &amp;lt;li&amp;gt;Main repository: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim&amp;quot;&amp;gt;github.com/litebird/litebird_sim&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
- &amp;lt;li&amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;lt;/li&amp;gt;
--&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
--    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-+&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;quot;&amp;gt;6d5a621&amp;lt;/a&amp;gt;
-+    (commit comment: &amp;lt;em&amp;gt;fix bug&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
- &amp;lt;/ul&amp;gt;
- &amp;lt;p&amp;gt;Since the last commit, the following changes have been made to the
- code that has been ran:&amp;lt;/p&amp;gt;
--&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- &amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;
- &amp;lt;hr /&amp;gt;
--&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-+&amp;lt;p&amp;gt;Report written on 2023-09-01 13:47:37&amp;lt;/p&amp;gt;
-     &amp;lt;/div&amp;gt;
-
- &amp;lt;/body&amp;gt;
-diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
-index 92deadd..e48217e 100644
---- a/example/get_hitmap_serial/report.md
-+++ b/example/get_hitmap_serial/report.md
-@@ -39,8 +39,8 @@ The total number of hit is 172800.0
-
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
-@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
-
- ```
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- ```
- ---
-
--Report written on 2023-08-31 20:58:33
-+Report written on 2023-09-01 13:47:37
-
-diff --git a/example/run_parallel.py b/example/run_parallel.py
-index d16693f..fc48809 100644
---- a/example/run_parallel.py
-+++ b/example/run_parallel.py
-@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
- coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
- lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
- jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-+conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-
- elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
- if mode == &amp;quot;debug&amp;quot;:
-@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
-
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
-
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
-
- cd {coderoot}
-&lt;/code&gt;&lt;/pre&gt;
-&lt;hr /&gt;
-&lt;p&gt;Report written on 2023-09-01 13:56:58&lt;/p&gt;
-    &lt;/div&gt;
-
-&lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
diff --git a/example/SORA/get_hitmap_parallel/report.md b/example/SORA/get_hitmap_parallel/report.md
deleted file mode 100644
index f94dc88..0000000
--- a/example/SORA/get_hitmap_parallel/report.md
+++ /dev/null
@@ -1,443 +0,0 @@
-# Parallel simulation tutorial
-
-
-
-The simulation starts at t0=0 and lasts 86400.0 seconds.
-
-The seed used for the random number generator is 12345.
-
-[TOC]
-
-
-
-## Generation of spacecraft quaternions
-
-Quaternions have been created for the simulation:
-
-- One quaternion every 60.0 seconds;
-- Memory usage: 46.1 kB
-
-
-
-
-    ## Coverage map
-
-    Here is the coverage map:
-
-    ![](coverage_map.png)
-
-    The fraction of sky covered is 70628/196608 pixels
-    (35.9%).
-
-    The total number of hit is 172800.0
-    
-
-## Instrument model objects
-
-
-
-## Source code used in the simulation
-
--   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
--   Version: 0.10.0, by The LiteBIRD simulation team
--   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
-Since the last commit, the following changes have been made to the
-code that has been ran:
-
-```
-diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 7c5218b..06085c9 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+elapse      = &quot;12:00:00&quot;   # hh:mm:ss
- jobname     = &quot;jupyter&quot;
- port        = 7123 
- 
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 7c5218b..06085c9 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+elapse      = &quot;12:00:00&quot;   # hh:mm:ss
- jobname     = &quot;jupyter&quot;
- port        = 7123 
- 
-diff --git a/example/.d0026722526 b/example/.d0026722526
-deleted file mode 100755
-index c7f9259..0000000
---- a/example/.d0026722526
-+++ /dev/null
-@@ -1,18 +0,0 @@
--#!/bin/zsh
--#JX --bizcode DU10503
--#JX -L rscunit=RURI
--#JX -L vnode=1
--#JX -L vnode-core=1
--#JX -L vnode-mem=24Gi
--#JX -L elapse=4:00:00
--#JX -L jobenv=singularity
--#JX -o /data/t/t541/.log/jupyter/%n_%j.out
--#JX -e /data/t/t541/.log/jupyter/%n_%j.err
--#JX --spath /data/t/t541/.log/%n_%j.stats
--#JX -N jupyter
--#JX -S
--
--source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
--module load singularity
--singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-\ No newline at end of file
-diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-deleted file mode 100755
-index 17ac2a5..0000000
---- a/example/.d0026722526_nodeinfo
-+++ /dev/null
-@@ -1 +0,0 @@
--10.3.16.23
-diff --git a/example/.d0026722526e b/example/.d0026722526e
-deleted file mode 100755
-index b783ee3..0000000
---- a/example/.d0026722526e
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing epilogue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-diff --git a/example/.d0026722526p b/example/.d0026722526p
-deleted file mode 100755
-index 3c051a0..0000000
---- a/example/.d0026722526p
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing prologue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-index d16693f..fc48809 100644
---- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-@@ -15,6 +15,7 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
- coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
- lbsim_code  = &quot;get_hitmap_parallel.py&quot;
- jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-+conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
- 
- elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
- if mode == &quot;debug&quot;:
-@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
- 
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
- 
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
- 
- cd {coderoot}
-diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
-index 2857590..4ba8dde 100644
---- a/example/get_hitmap_serial/report.html
-+++ b/example/get_hitmap_serial/report.html
-@@ -71,20 +71,100 @@
- &lt;ul&gt;
- &lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
- &lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
--&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&quot;&gt;6ed25e1&lt;/a&gt;
--    (commit comment: &lt;em&gt;add example, update README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-+&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-+    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
- &lt;/ul&gt;
- &lt;p&gt;Since the last commit, the following changes have been made to the
- code that has been ran:&lt;/p&gt;
--&lt;pre&gt;&lt;code&gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- &lt;/code&gt;&lt;/pre&gt;
- &lt;hr /&gt;
--&lt;p&gt;Report written on 2023-08-31 20:58:33&lt;/p&gt;
-+&lt;p&gt;Report written on 2023-09-01 13:47:37&lt;/p&gt;
-     &lt;/div&gt;
- 
- &lt;/body&gt;
-diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
-index 92deadd..e48217e 100644
---- a/example/get_hitmap_serial/report.md
-+++ b/example/get_hitmap_serial/report.md
-@@ -39,8 +39,8 @@ The total number of hit is 172800.0
- 
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
- 
- 
- 
-@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
- 
- ```
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- ```
- ---
- 
--Report written on 2023-08-31 20:58:33
-+Report written on 2023-09-01 13:47:37
- 
-diff --git a/example/run_parallel.py b/example/run_parallel.py
-index d16693f..fc48809 100644
---- a/example/run_parallel.py
-+++ b/example/run_parallel.py
-@@ -15,6 +15,7 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
- coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
- lbsim_code  = &quot;get_hitmap_parallel.py&quot;
- jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-+conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
- 
- elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
- if mode == &quot;debug&quot;:
-@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
- 
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
- 
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
- 
- cd {coderoot}
-```
----
-
-Report written on 2023-09-01 13:56:58
-
diff --git a/example/SORA/get_hitmap_parallel/sakura.css b/example/SORA/get_hitmap_parallel/sakura.css
deleted file mode 100644
index 4d4eae7..0000000
--- a/example/SORA/get_hitmap_parallel/sakura.css
+++ /dev/null
@@ -1,165 +0,0 @@
-/* Sakura.css v1.0.0
- * ================
- * Minimal css theme.
- * Project: https://github.com/oxalorg/sakura
- */
-/* Body */
-html {
-  font-size: 62.5%;
-  font-family: serif; }
-
-body {
-  font-size: 1.8rem;
-  line-height: 1.618;
-  max-width: 38em;
-  margin: auto;
-  color: #4a4a4a;
-  background-color: #f9f9f9;
-  padding: 13px; }
-
-@media (max-width: 684px) {
-  body {
-    font-size: 1.53rem; } }
-
-@media (max-width: 382px) {
-  body {
-    font-size: 1.35rem; } }
-
-h1, h2, h3, h4, h5, h6 {
-  line-height: 1.1;
-  font-family: Verdana, Geneva, sans-serif;
-  font-weight: 700;
-  overflow-wrap: break-word;
-  word-wrap: break-word;
-  -ms-word-break: break-all;
-  word-break: break-word;
-  -ms-hyphens: auto;
-  -moz-hyphens: auto;
-  -webkit-hyphens: auto;
-  hyphens: auto; }
-
-h1 {
-  font-size: 2.35em; }
-
-h2 {
-  font-size: 2.00em; }
-
-h3 {
-  font-size: 1.75em; }
-
-h4 {
-  font-size: 1.5em; }
-
-h5 {
-  font-size: 1.25em; }
-
-h6 {
-  font-size: 1em; }
-
-small, sub, sup {
-  font-size: 75%; }
-
-hr {
-  border-color: #2c8898; }
-
-a {
-  text-decoration: none;
-  color: #2c8898; }
-  a:hover {
-    color: #982c61;
-    border-bottom: 2px solid #4a4a4a; }
-
-ul {
-  padding-left: 1.4em; }
-
-li {
-  margin-bottom: 0.4em; }
-
-blockquote {
-  font-style: italic;
-  margin-left: 1.5em;
-  padding-left: 1em;
-  border-left: 3px solid #2c8898; }
-
-img {
-  max-width: 100%; }
-
-/* Pre and Code */
-pre {
-  background-color: #f1f1f1;
-  display: block;
-  padding: 1em;
-  overflow-x: auto; }
-
-code {
-  font-size: 0.9em;
-  padding: 0 0.5em;
-  background-color: #f1f1f1;
-  white-space: pre-wrap; }
-
-pre &gt; code {
-  padding: 0;
-  background-color: transparent;
-  white-space: pre; }
-
-/* Tables */
-table {
-  text-align: justify;
-  width: 100%;
-  border-collapse: collapse; }
-
-td, th {
-  padding: 0.5em;
-  border-bottom: 1px solid #f1f1f1; }
-
-/* Buttons, forms and input */
-input, textarea {
-  border: 1px solid #4a4a4a; }
-  input:focus, textarea:focus {
-    border: 1px solid #2c8898; }
-
-textarea {
-  width: 100%; }
-
-.button, button, input[type=&quot;submit&quot;], input[type=&quot;reset&quot;], input[type=&quot;button&quot;] {
-  display: inline-block;
-  padding: 5px 10px;
-  text-align: center;
-  text-decoration: none;
-  white-space: nowrap;
-  background-color: #2c8898;
-  color: #f9f9f9;
-  border-radius: 1px;
-  border: 1px solid #2c8898;
-  cursor: pointer;
-  box-sizing: border-box; }
-  .button[disabled], button[disabled], input[type=&quot;submit&quot;][disabled], input[type=&quot;reset&quot;][disabled], input[type=&quot;button&quot;][disabled] {
-    cursor: default;
-    opacity: .5; }
-  .button:focus, .button:hover, button:focus, button:hover, input[type=&quot;submit&quot;]:focus, input[type=&quot;submit&quot;]:hover, input[type=&quot;reset&quot;]:focus, input[type=&quot;reset&quot;]:hover, input[type=&quot;button&quot;]:focus, input[type=&quot;button&quot;]:hover {
-    background-color: #982c61;
-    border-color: #982c61;
-    color: #f9f9f9;
-    outline: 0; }
-
-textarea, select, input[type] {
-  color: #4a4a4a;
-  padding: 6px 10px;
-  /* The 6px vertically centers text on FF, ignored by Webkit */
-  margin-bottom: 10px;
-  background-color: #f1f1f1;
-  border: 1px solid #f1f1f1;
-  border-radius: 4px;
-  box-shadow: none;
-  box-sizing: border-box; }
-  textarea:focus, select:focus, input[type]:focus {
-    border: 1px solid #2c8898;
-    outline: 0; }
-
-input[type=&quot;checkbox&quot;]:focus {
-  outline: 1px dotted #2c8898; }
-
-label, legend, fieldset {
-  display: block;
-  margin-bottom: .5rem;
-  font-weight: 600; }
diff --git a/example/SORA/get_hitmap_serial.py b/example/SORA/get_hitmap_serial.py
deleted file mode 100644
index 1020bb8..0000000
--- a/example/SORA/get_hitmap_serial.py
+++ /dev/null
@@ -1,111 +0,0 @@
-import litebird_sim as lbs
-import healpy as hp
-import numpy as np
-import matplotlib.pylab as plt
-import astropy.units as u
-
-sim = lbs.Simulation(
-    base_path=&quot;./get_hitmap_serial&quot;,
-    name=&quot;Serial simulation tutorial&quot;,
-    start_time=0,
-    duration_s=86400.,
-    random_seed=12345,
-)
-
-alpha           = 45.
-beta            = 50.
-spin_rpm        = 0.05
-prec_period_min = 192.348
-
-sim.set_scanning_strategy(
-    scanning_strategy      = lbs.SpinningScanningStrategy(
-        spin_sun_angle_rad = np.deg2rad(alpha), # CORE-specific parameter
-        spin_rate_hz       = spin_rpm / 60,     # Ditto
-        # We use astropy to convert the period (4 days) in
-        # seconds
-        precession_rate_hz = 1.0 / (prec_period_min * u.min).to(&quot;s&quot;).value,
-    )
-)
-
-sim.set_instrument(
-    lbs.InstrumentInfo(
-        name = &quot;Satellite&quot;,
-        spin_boresight_angle_rad = np.deg2rad(beta),
-    ),
-)
-
-sim.set_hwp(lbs.IdealHWP(ang_speed_radpsec = 0.0))
-
-print(&quot;Create observation&quot;)
-
-det_list = [
-    lbs.DetectorInfo(
-        name             = &quot;Detector1&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, 0.07, 0., 0.9]
-    ),
-    lbs.DetectorInfo(
-        name             = &quot;Detector2&quot;,
-        sampling_rate_hz = 1,
-        quat             = [0.02, -0.07, 0., 0.9]
-    ),
-]
-
-
-(obs,) = sim.create_observations(
-    detectors     = det_list,
-    #n_blocks_det  = 2,
-    #n_blocks_time = 3
-)
-
-inst = lbs.InstrumentInfo(
-   name = &quot;Telescope&quot;, 
-   boresight_rotangle_rad   = 0.,
-   spin_boresight_angle_rad = np.deg2rad(beta),
-   spin_rotangle_rad        = 0.,
-)
-
-pointings = lbs.pointings.get_pointings(
-   obs,
-   spin2ecliptic_quats    = sim.spin2ecliptic_quats,
-   bore2spin_quat         = inst.bore2spin_quat,
-   store_pointings_in_obs = False    #if True, stores colatitude and longitude in obs.pointings and the polarization angle in obs.psi
-)
-
-nside  = 128
-npix   = hp.nside2npix(nside)
-hitmap = np.zeros(npix)
-
-for i_det in range(len(det_list)):
-    pixels = hp.ang2pix(nside,
-                        pointings[i_det][:,0], #theta
-                        pointings[i_det][:,1]  #phi
-                       ) 
-    for ipix in pixels:
-        hitmap[ipix] += 1
-hp.mollview(hitmap)
-hp.write_map(sim.base_path / 'hitmap.fits', hitmap, overwrite=True, dtype=np.int64)
-
-#comm.barrier()
-
-sim.append_to_report(&quot;&quot;&quot;
-
-## Coverage map
-
-Here is the coverage map:
-
-![](coverage_map.png)
-
-The fraction of sky covered is {{ seen }}/{{ total }} pixels
-({{ &quot;%.1f&quot; | format(percentage) }}%).
-
-The total number of hit is {{total_hit}}
-&quot;&quot;&quot;,
-    figures    = [(plt.gcf(), &quot;coverage_map.png&quot;)],
-    seen       = len(hitmap[hitmap &gt; 0]),
-    total      = len(hitmap),
-    percentage = 100.0 * len(hitmap[hitmap &gt; 0]) / len(hitmap),
-    total_hit  = hitmap.sum()
-)
-
-sim.flush()
diff --git a/example/SORA/get_hitmap_serial/.ipynb_checkpoints/report-checkpoint.html b/example/SORA/get_hitmap_serial/.ipynb_checkpoints/report-checkpoint.html
deleted file mode 100644
index 963d24a..0000000
--- a/example/SORA/get_hitmap_serial/.ipynb_checkpoints/report-checkpoint.html
+++ /dev/null
@@ -1,115 +0,0 @@
-&lt;!doctype html&gt;
-
-&lt;html lang=&quot;en&quot;&gt;
-  &lt;head&gt;
-    &lt;meta charset=&quot;utf-8&quot;&gt;
-
-    &lt;title&gt;Serial simulation tutorial&lt;/title&gt;
-    &lt;meta name=&quot;description&quot; content=&quot;Serial simulation tutorial&quot;&gt;
-    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
-
-    &lt;!-- Global stylesheet. We might switch to Bootstrap in the future --&gt;
-    &lt;link rel=&quot;stylesheet&quot; href=&quot;sakura.css&quot;&gt;
-
-    &lt;!-- KaTeX files --&gt;
-    &lt;link
-      rel=&quot;stylesheet&quot;
-      href=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css&quot;
-      integrity=&quot;sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-
-    &lt;!-- The loading of KaTeX is deferred to speed up page rendering --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js&quot;
-      integrity=&quot;sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-    &lt;/script&gt;
-
-    &lt;!-- To automatically render math in text elements, include the
-    auto-render extension: --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js&quot;
-      integrity=&quot;sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI&quot;
-      crossorigin=&quot;anonymous&quot;
-      onload=&quot;renderMathInElement(document.body);&quot;&gt;
-    &lt;/script&gt;
-
-  &lt;/head&gt;
-
-  &lt;body&gt;
-    &lt;div class=&quot;container&quot;&gt;
-      &lt;h1 id=&quot;serial-simulation-tutorial&quot;&gt;Serial simulation tutorial&lt;/h1&gt;
-&lt;p&gt;The simulation starts at t0=0 and lasts 86400.0 seconds.&lt;/p&gt;
-&lt;p&gt;The seed used for the random number generator is 12345.&lt;/p&gt;
-&lt;div class=&quot;toc&quot;&gt;
-&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#serial-simulation-tutorial&quot;&gt;Serial simulation tutorial&lt;/a&gt;&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#coverage-map&quot;&gt;Coverage map&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#instrument-model-objects&quot;&gt;Instrument model objects&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/a&gt;&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/div&gt;
-&lt;h2 id=&quot;generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/h2&gt;
-&lt;p&gt;Quaternions have been created for the simulation:&lt;/p&gt;
-&lt;ul&gt;
-&lt;li&gt;One quaternion every 60.0 seconds;&lt;/li&gt;
-&lt;li&gt;Memory usage: 46.1 kB&lt;/li&gt;
-&lt;/ul&gt;
-&lt;h2 id=&quot;coverage-map&quot;&gt;Coverage map&lt;/h2&gt;
-&lt;p&gt;Here is the coverage map:&lt;/p&gt;
-&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;coverage_map.png&quot; /&gt;&lt;/p&gt;
-&lt;p&gt;The fraction of sky covered is 70733/196608 pixels
-(36.0%).&lt;/p&gt;
-&lt;p&gt;The total number of hit is 172800.0&lt;/p&gt;
-&lt;h2 id=&quot;instrument-model-objects&quot;&gt;Instrument model objects&lt;/h2&gt;
-&lt;h2 id=&quot;source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/h2&gt;
-&lt;ul&gt;
-&lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
-&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&quot;&gt;cf5464d&lt;/a&gt;
-    (commit comment: &lt;em&gt;add README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-&lt;/ul&gt;
-&lt;p&gt;Since the last commit, the following changes have been made to the
-code that has been ran:&lt;/p&gt;
-&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 32e9e0a..be4fb79 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
- jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
--vnode_mem   = 24           # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
-+vnode_mem   = 24          # unit: GiB
-+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
-
- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 32e9e0a..be4fb79 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
- jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
--vnode_mem   = 24           # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
-+vnode_mem   = 24          # unit: GiB
-+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
-
- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-&lt;/code&gt;&lt;/pre&gt;
-&lt;hr /&gt;
-&lt;p&gt;Report written on 2023-08-31 20:02:25&lt;/p&gt;
-    &lt;/div&gt;
-
-&lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
diff --git a/example/SORA/get_hitmap_serial/coverage_map.png b/example/SORA/get_hitmap_serial/coverage_map.png
deleted file mode 100644
index 260efcd..0000000
Binary files a/example/SORA/get_hitmap_serial/coverage_map.png and /dev/null differ
diff --git a/example/SORA/get_hitmap_serial/hitmap.fits b/example/SORA/get_hitmap_serial/hitmap.fits
deleted file mode 100644
index b613a1a..0000000
Binary files a/example/SORA/get_hitmap_serial/hitmap.fits and /dev/null differ
diff --git a/example/SORA/get_hitmap_serial/report.html b/example/SORA/get_hitmap_serial/report.html
deleted file mode 100644
index e9c4fac..0000000
--- a/example/SORA/get_hitmap_serial/report.html
+++ /dev/null
@@ -1,1599 +0,0 @@
-&lt;!doctype html&gt;
-
-&lt;html lang=&quot;en&quot;&gt;
-  &lt;head&gt;
-    &lt;meta charset=&quot;utf-8&quot;&gt;
-
-    &lt;title&gt;Serial simulation tutorial&lt;/title&gt;
-    &lt;meta name=&quot;description&quot; content=&quot;Serial simulation tutorial&quot;&gt;
-    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
-
-    &lt;!-- Global stylesheet. We might switch to Bootstrap in the future --&gt;
-    &lt;link rel=&quot;stylesheet&quot; href=&quot;sakura.css&quot;&gt;
-
-    &lt;!-- KaTeX files --&gt;
-    &lt;link
-      rel=&quot;stylesheet&quot;
-      href=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css&quot;
-      integrity=&quot;sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-
-    &lt;!-- The loading of KaTeX is deferred to speed up page rendering --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js&quot;
-      integrity=&quot;sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz&quot;
-      crossorigin=&quot;anonymous&quot;&gt;
-    &lt;/script&gt;
-
-    &lt;!-- To automatically render math in text elements, include the
-    auto-render extension: --&gt;
-    &lt;script
-      defer
-      src=&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js&quot;
-      integrity=&quot;sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI&quot;
-      crossorigin=&quot;anonymous&quot;
-      onload=&quot;renderMathInElement(document.body);&quot;&gt;
-    &lt;/script&gt;
-
-  &lt;/head&gt;
-
-  &lt;body&gt;
-    &lt;div class=&quot;container&quot;&gt;
-      &lt;h1 id=&quot;serial-simulation-tutorial&quot;&gt;Serial simulation tutorial&lt;/h1&gt;
-&lt;p&gt;The simulation starts at t0=0 and lasts 86400.0 seconds.&lt;/p&gt;
-&lt;p&gt;The seed used for the random number generator is 12345.&lt;/p&gt;
-&lt;div class=&quot;toc&quot;&gt;
-&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#serial-simulation-tutorial&quot;&gt;Serial simulation tutorial&lt;/a&gt;&lt;ul&gt;
-&lt;li&gt;&lt;a href=&quot;#generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#coverage-map&quot;&gt;Coverage map&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#instrument-model-objects&quot;&gt;Instrument model objects&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;&lt;a href=&quot;#source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/a&gt;&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/li&gt;
-&lt;/ul&gt;
-&lt;/div&gt;
-&lt;h2 id=&quot;generation-of-spacecraft-quaternions&quot;&gt;Generation of spacecraft quaternions&lt;/h2&gt;
-&lt;p&gt;Quaternions have been created for the simulation:&lt;/p&gt;
-&lt;ul&gt;
-&lt;li&gt;One quaternion every 60.0 seconds;&lt;/li&gt;
-&lt;li&gt;Memory usage: 46.1 kB&lt;/li&gt;
-&lt;/ul&gt;
-&lt;h2 id=&quot;coverage-map&quot;&gt;Coverage map&lt;/h2&gt;
-&lt;p&gt;Here is the coverage map:&lt;/p&gt;
-&lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;coverage_map.png&quot; /&gt;&lt;/p&gt;
-&lt;p&gt;The fraction of sky covered is 70628/196608 pixels
-(35.9%).&lt;/p&gt;
-&lt;p&gt;The total number of hit is 172800.0&lt;/p&gt;
-&lt;h2 id=&quot;instrument-model-objects&quot;&gt;Instrument model objects&lt;/h2&gt;
-&lt;h2 id=&quot;source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/h2&gt;
-&lt;ul&gt;
-&lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
-&lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
-&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-&lt;/ul&gt;
-&lt;p&gt;Since the last commit, the following changes have been made to the
-code that has been ran:&lt;/p&gt;
-&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 7c5218b..35e2e88 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
- port        = 7123 
-
-@@ -29,8 +29,6 @@ pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -N {jobname}
- #JX -S
-
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
- module load singularity
- singularity run /data/{jss_account[0]}/{jss_account}/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser&amp;quot;&amp;quot;&amp;quot;
-
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 7c5218b..74c5016 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
- jobname     = &amp;quot;jupyter&amp;quot;
- port        = 7123 
-
-@@ -29,8 +29,7 @@ pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -N {jobname}
- #JX -S
-
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
-+cd /home/{jss_account[0]}/{jss_account}
- module load singularity
- singularity run /data/{jss_account[0]}/{jss_account}/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser&amp;quot;&amp;quot;&amp;quot;
-
-diff --git a/example/.d0026722526 b/example/.d0026722526
-deleted file mode 100755
-index c7f9259..0000000
---- a/example/.d0026722526
-+++ /dev/null
-@@ -1,18 +0,0 @@
--#!/bin/zsh
--#JX --bizcode DU10503
--#JX -L rscunit=RURI
--#JX -L vnode=1
--#JX -L vnode-core=1
--#JX -L vnode-mem=24Gi
--#JX -L elapse=4:00:00
--#JX -L jobenv=singularity
--#JX -o /data/t/t541/.log/jupyter/%n_%j.out
--#JX -e /data/t/t541/.log/jupyter/%n_%j.err
--#JX --spath /data/t/t541/.log/%n_%j.stats
--#JX -N jupyter
--#JX -S
--
--source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
--module load singularity
--singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-\ No newline at end of file
-diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-deleted file mode 100755
-index 17ac2a5..0000000
---- a/example/.d0026722526_nodeinfo
-+++ /dev/null
-@@ -1 +0,0 @@
--10.3.16.23
-diff --git a/example/.d0026722526e b/example/.d0026722526e
-deleted file mode 100755
-index b783ee3..0000000
---- a/example/.d0026722526e
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing epilogue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-diff --git a/example/.d0026722526p b/example/.d0026722526p
-deleted file mode 100755
-index 3c051a0..0000000
---- a/example/.d0026722526p
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing prologue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-index d16693f..68c3394 100644
---- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-@@ -15,10 +15,11 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
- coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
- lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
- jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-+conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-
- elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
- if mode == &amp;quot;debug&amp;quot;:
--    elapse     = &amp;quot;00:10:00&amp;quot;
-+    elapse  = &amp;quot;00:10:00&amp;quot;
-
-
- script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
-
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
-
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
-
- cd {coderoot}
-diff --git a/example/get_hitmap_parallel/report.html b/example/get_hitmap_parallel/report.html
-index fbe4f0e..906b128 100644
---- a/example/get_hitmap_parallel/report.html
-+++ b/example/get_hitmap_parallel/report.html
-@@ -73,194 +73,401 @@
- &amp;lt;ul&amp;gt;
- &amp;lt;li&amp;gt;Main repository: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim&amp;quot;&amp;gt;github.com/litebird/litebird_sim&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
- &amp;lt;li&amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;lt;/li&amp;gt;
--&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
--    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-+&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;quot;&amp;gt;6d5a621&amp;lt;/a&amp;gt;
-+    (commit comment: &amp;lt;em&amp;gt;fix bug&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
- &amp;lt;/ul&amp;gt;
- &amp;lt;p&amp;gt;Since the last commit, the following changes have been made to the
- code that has been ran:&amp;lt;/p&amp;gt;
--&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--index a6a46c4..d16693f 100644
-+&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-+diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+index d16693f..fc48809 100644
- --- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
- +++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--@@ -12,7 +12,7 @@ job_name    = &amp;amp;quot;get_hitmap_parallel&amp;amp;quot;
-- mode        = &amp;amp;quot;debug&amp;amp;quot; 
-- #mode        = &amp;amp;quot;default&amp;amp;quot;
-- user_email  = &amp;amp;quot;takase_y@s.okayama-u.ac.jp&amp;amp;quot;
---coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;amp;quot;
--+coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;amp;quot;takase_y@s.okayama-u.ac.jp&amp;amp;quot;
-+ coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;amp;quot;
-  lbsim_code  = &amp;amp;quot;get_hitmap_parallel.py&amp;amp;quot;
-  jobscript   = coderoot + &amp;amp;quot;/&amp;amp;quot; + &amp;amp;quot;run_&amp;amp;quot;+job_name+&amp;amp;quot;.pjm&amp;amp;quot;
-++conda_base  = f&amp;amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;amp;quot;
-
--diff --git a/example/get_hitmap_parallel.py b/example/get_hitmap_parallel.py
--index 2608f38..7e3a031 100644
--Binary files a/example/get_hitmap_parallel.py and b/example/get_hitmap_parallel.py differ
--diff --git a/example/get_hitmap_parallel/coverage_map.png b/example/get_hitmap_parallel/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_parallel/coverage_map.png and b/example/get_hitmap_parallel/coverage_map.png differ
--diff --git a/example/get_hitmap_parallel/hitmap.fits b/example/get_hitmap_parallel/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_parallel/hitmap.fits and b/example/get_hitmap_parallel/hitmap.fits differ
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+ elapse      = &amp;amp;quot;00:01:00&amp;amp;quot; # When you use the `debug` mode you should requesgt &amp;amp;lt;= 1800 == &amp;amp;quot;00:30:00&amp;amp;quot;
-+ if mode == &amp;amp;quot;debug&amp;amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+
-+ cd {coderoot}
- diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
--index 963d24a..2857590 100644
-+index 2857590..4ba8dde 100644
- --- a/example/get_hitmap_serial/report.html
- +++ b/example/get_hitmap_serial/report.html
--@@ -63,52 +63,28 @@
-- &amp;amp;lt;h2 id=&amp;amp;quot;coverage-map&amp;amp;quot;&amp;amp;gt;Coverage map&amp;amp;lt;/h2&amp;amp;gt;
-- &amp;amp;lt;p&amp;amp;gt;Here is the coverage map:&amp;amp;lt;/p&amp;amp;gt;
-- &amp;amp;lt;p&amp;amp;gt;&amp;amp;lt;img alt=&amp;amp;quot;&amp;amp;quot; src=&amp;amp;quot;coverage_map.png&amp;amp;quot; /&amp;amp;gt;&amp;amp;lt;/p&amp;amp;gt;
---&amp;amp;lt;p&amp;amp;gt;The fraction of sky covered is 70733/196608 pixels
---(36.0%).&amp;amp;lt;/p&amp;amp;gt;
--+&amp;amp;lt;p&amp;amp;gt;The fraction of sky covered is 70628/196608 pixels
--+(35.9%).&amp;amp;lt;/p&amp;amp;gt;
-- &amp;amp;lt;p&amp;amp;gt;The total number of hit is 172800.0&amp;amp;lt;/p&amp;amp;gt;
-- &amp;amp;lt;h2 id=&amp;amp;quot;instrument-model-objects&amp;amp;quot;&amp;amp;gt;Instrument model objects&amp;amp;lt;/h2&amp;amp;gt;
-- &amp;amp;lt;h2 id=&amp;amp;quot;source-code-used-in-the-simulation&amp;amp;quot;&amp;amp;gt;Source code used in the simulation&amp;amp;lt;/h2&amp;amp;gt;
-+@@ -71,20 +71,100 @@
-  &amp;amp;lt;ul&amp;amp;gt;
-  &amp;amp;lt;li&amp;amp;gt;Main repository: &amp;amp;lt;a href=&amp;amp;quot;https://github.com/litebird/litebird_sim&amp;amp;quot;&amp;amp;gt;github.com/litebird/litebird_sim&amp;amp;lt;/a&amp;amp;gt;&amp;amp;lt;/li&amp;amp;gt;
-  &amp;amp;lt;li&amp;amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;amp;lt;/li&amp;amp;gt;
---&amp;amp;lt;li&amp;amp;gt;Commit hash: &amp;amp;lt;a href=&amp;amp;quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&amp;amp;quot;&amp;amp;gt;cf5464d&amp;amp;lt;/a&amp;amp;gt;
---    (commit comment: &amp;amp;lt;em&amp;amp;gt;add README.md&amp;amp;lt;/em&amp;amp;gt;, by yusuke-takase)&amp;amp;lt;/li&amp;amp;gt;
--+&amp;amp;lt;li&amp;amp;gt;Commit hash: &amp;amp;lt;a href=&amp;amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;amp;quot;&amp;amp;gt;6ed25e1&amp;amp;lt;/a&amp;amp;gt;
--+    (commit comment: &amp;amp;lt;em&amp;amp;gt;add example, update README.md&amp;amp;lt;/em&amp;amp;gt;, by yusuke-takase)&amp;amp;lt;/li&amp;amp;gt;
-+-&amp;amp;lt;li&amp;amp;gt;Commit hash: &amp;amp;lt;a href=&amp;amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;amp;quot;&amp;amp;gt;6ed25e1&amp;amp;lt;/a&amp;amp;gt;
-+-    (commit comment: &amp;amp;lt;em&amp;amp;gt;add example, update README.md&amp;amp;lt;/em&amp;amp;gt;, by yusuke-takase)&amp;amp;lt;/li&amp;amp;gt;
-++&amp;amp;lt;li&amp;amp;gt;Commit hash: &amp;amp;lt;a href=&amp;amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;amp;quot;&amp;amp;gt;6d5a621&amp;amp;lt;/a&amp;amp;gt;
-++    (commit comment: &amp;amp;lt;em&amp;amp;gt;fix bug&amp;amp;lt;/em&amp;amp;gt;, by yusuke-takase)&amp;amp;lt;/li&amp;amp;gt;
-  &amp;amp;lt;/ul&amp;amp;gt;
-  &amp;amp;lt;p&amp;amp;gt;Since the last commit, the following changes have been made to the
-  code that has been ran:&amp;amp;lt;/p&amp;amp;gt;
---&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;code&amp;amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;amp;quot;DU10503&amp;amp;amp;quot;
--- jss_account = &amp;amp;amp;quot;t541&amp;amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;amp;quot;jupyter&amp;amp;amp;quot;
---
--- pjm = &amp;amp;amp;quot;&amp;amp;amp;quot;&amp;amp;amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;amp;quot;DU10503&amp;amp;amp;quot;
--- jss_account = &amp;amp;amp;quot;t541&amp;amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;amp;quot;jupyter&amp;amp;amp;quot;
---
--- pjm = &amp;amp;amp;quot;&amp;amp;amp;quot;&amp;amp;amp;quot;#!/bin/zsh
--+&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;code&amp;amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;code&amp;amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++&amp;amp;lt;pre&amp;amp;gt;&amp;amp;lt;code&amp;amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;amp;quot;t541&amp;amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;amp;quot;12:00:00&amp;amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;amp;quot;jupyter&amp;amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;amp;quot;t541&amp;amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;amp;quot;4:00:00&amp;amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;amp;quot;12:00:00&amp;amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;amp;quot;jupyter&amp;amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  &amp;amp;lt;/code&amp;amp;gt;&amp;amp;lt;/pre&amp;amp;gt;
-  &amp;amp;lt;hr /&amp;amp;gt;
---&amp;amp;lt;p&amp;amp;gt;Report written on 2023-08-31 20:02:25&amp;amp;lt;/p&amp;amp;gt;
--+&amp;amp;lt;p&amp;amp;gt;Report written on 2023-08-31 20:58:33&amp;amp;lt;/p&amp;amp;gt;
-+-&amp;amp;lt;p&amp;amp;gt;Report written on 2023-08-31 20:58:33&amp;amp;lt;/p&amp;amp;gt;
-++&amp;amp;lt;p&amp;amp;gt;Report written on 2023-09-01 13:47:37&amp;amp;lt;/p&amp;amp;gt;
-      &amp;amp;lt;/div&amp;amp;gt;
-
-  &amp;amp;lt;/body&amp;amp;gt;
- diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
--index 5020726..92deadd 100644
-+index 92deadd..e48217e 100644
- --- a/example/get_hitmap_serial/report.md
- +++ b/example/get_hitmap_serial/report.md
--@@ -26,8 +26,8 @@ Here is the coverage map:
--
-- ![](coverage_map.png)
--
---The fraction of sky covered is 70733/196608 pixels
---(36.0%).
--+The fraction of sky covered is 70628/196608 pixels
--+(35.9%).
--
-- The total number of hit is 172800.0
--
- @@ -39,8 +39,8 @@ The total number of hit is 172800.0
-
-  -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
-  -   Version: 0.10.0, by The LiteBIRD simulation team
----   Commit hash: [cf5464d](https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337)
---    (commit comment: *add README.md*, by yusuke-takase)
--+-   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--+    (commit comment: *add example, update README.md*, by yusuke-takase)
-+--   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
-+-    (commit comment: *add example, update README.md*, by yusuke-takase)
-++-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-++    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
--@@ -48,38 +48,14 @@ Since the last commit, the following changes have been made to the
-+@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
-  code that has been ran:
-
-  ```
---diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
--- 
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
--- 
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
--+diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  ```
-  ---
-
---Report written on 2023-08-31 20:02:25
--+Report written on 2023-08-31 20:58:33
-+-Report written on 2023-08-31 20:58:33
-++Report written on 2023-09-01 13:47:37
-
- diff --git a/example/run_parallel.py b/example/run_parallel.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/run_parallel.py
- +++ b/example/run_parallel.py
--@@ -12,7 +12,7 @@ job_name    = &amp;amp;quot;get_hitmap_parallel&amp;amp;quot;
-- mode        = &amp;amp;quot;debug&amp;amp;quot; 
-- #mode        = &amp;amp;quot;default&amp;amp;quot;
-- user_email  = &amp;amp;quot;takase_y@s.okayama-u.ac.jp&amp;amp;quot;
---coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;amp;quot;
--+coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;amp;quot;takase_y@s.okayama-u.ac.jp&amp;amp;quot;
-+ coderoot    = f&amp;amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;amp;quot;
-  lbsim_code  = &amp;amp;quot;get_hitmap_parallel.py&amp;amp;quot;
-  jobscript   = coderoot + &amp;amp;quot;/&amp;amp;quot; + &amp;amp;quot;run_&amp;amp;quot;+job_name+&amp;amp;quot;.pjm&amp;amp;quot;
-++conda_base  = f&amp;amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;amp;quot;
-+
-+ elapse      = &amp;amp;quot;00:01:00&amp;amp;quot; # When you use the `debug` mode you should requesgt &amp;amp;lt;= 1800 == &amp;amp;quot;00:30:00&amp;amp;quot;
-+ if mode == &amp;amp;quot;debug&amp;amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+
-+ cd {coderoot}
- &amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;
- &amp;lt;hr /&amp;gt;
--&amp;lt;p&amp;gt;Report written on 2023-08-31 21:00:37&amp;lt;/p&amp;gt;
-+&amp;lt;p&amp;gt;Report written on 2023-09-01 13:56:58&amp;lt;/p&amp;gt;
-     &amp;lt;/div&amp;gt;
-
- &amp;lt;/body&amp;gt;
-diff --git a/example/get_hitmap_parallel/report.md b/example/get_hitmap_parallel/report.md
-index 509a1f7..f94dc88 100644
---- a/example/get_hitmap_parallel/report.md
-+++ b/example/get_hitmap_parallel/report.md
-@@ -40,8 +40,8 @@ Quaternions have been created for the simulation:
-
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
-@@ -49,188 +49,395 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
-
- ```
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
- +++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--@@ -12,7 +12,7 @@ job_name    = &amp;quot;get_hitmap_parallel&amp;quot;
-- mode        = &amp;quot;debug&amp;quot; 
-- #mode        = &amp;quot;default&amp;quot;
-- user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
---coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;quot;
--+coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
-+ coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-  lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
-  jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-++conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-
--diff --git a/example/get_hitmap_parallel.py b/example/get_hitmap_parallel.py
--index 2608f38..7e3a031 100644
--Binary files a/example/get_hitmap_parallel.py and b/example/get_hitmap_parallel.py differ
--diff --git a/example/get_hitmap_parallel/coverage_map.png b/example/get_hitmap_parallel/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_parallel/coverage_map.png and b/example/get_hitmap_parallel/coverage_map.png differ
--diff --git a/example/get_hitmap_parallel/hitmap.fits b/example/get_hitmap_parallel/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_parallel/hitmap.fits and b/example/get_hitmap_parallel/hitmap.fits differ
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+ elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
-+ if mode == &amp;quot;debug&amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+ 
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+ 
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+ 
-+ cd {coderoot}
- diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
--index 963d24a..2857590 100644
-+index 2857590..4ba8dde 100644
- --- a/example/get_hitmap_serial/report.html
- +++ b/example/get_hitmap_serial/report.html
--@@ -63,52 +63,28 @@
-- &amp;lt;h2 id=&amp;quot;coverage-map&amp;quot;&amp;gt;Coverage map&amp;lt;/h2&amp;gt;
-- &amp;lt;p&amp;gt;Here is the coverage map:&amp;lt;/p&amp;gt;
-- &amp;lt;p&amp;gt;&amp;lt;img alt=&amp;quot;&amp;quot; src=&amp;quot;coverage_map.png&amp;quot; /&amp;gt;&amp;lt;/p&amp;gt;
---&amp;lt;p&amp;gt;The fraction of sky covered is 70733/196608 pixels
---(36.0%).&amp;lt;/p&amp;gt;
--+&amp;lt;p&amp;gt;The fraction of sky covered is 70628/196608 pixels
--+(35.9%).&amp;lt;/p&amp;gt;
-- &amp;lt;p&amp;gt;The total number of hit is 172800.0&amp;lt;/p&amp;gt;
-- &amp;lt;h2 id=&amp;quot;instrument-model-objects&amp;quot;&amp;gt;Instrument model objects&amp;lt;/h2&amp;gt;
-- &amp;lt;h2 id=&amp;quot;source-code-used-in-the-simulation&amp;quot;&amp;gt;Source code used in the simulation&amp;lt;/h2&amp;gt;
-+@@ -71,20 +71,100 @@
-  &amp;lt;ul&amp;gt;
-  &amp;lt;li&amp;gt;Main repository: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim&amp;quot;&amp;gt;github.com/litebird/litebird_sim&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
-  &amp;lt;li&amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;lt;/li&amp;gt;
---&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&amp;quot;&amp;gt;cf5464d&amp;lt;/a&amp;gt;
---    (commit comment: &amp;lt;em&amp;gt;add README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
--+&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
--+    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-+-&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
-+-    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-++&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;quot;&amp;gt;6d5a621&amp;lt;/a&amp;gt;
-++    (commit comment: &amp;lt;em&amp;gt;fix bug&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-  &amp;lt;/ul&amp;gt;
-  &amp;lt;p&amp;gt;Since the last commit, the following changes have been made to the
-  code that has been ran:&amp;lt;/p&amp;gt;
---&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
---
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
---
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
--+&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  &amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;
-  &amp;lt;hr /&amp;gt;
---&amp;lt;p&amp;gt;Report written on 2023-08-31 20:02:25&amp;lt;/p&amp;gt;
--+&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-+-&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-++&amp;lt;p&amp;gt;Report written on 2023-09-01 13:47:37&amp;lt;/p&amp;gt;
-      &amp;lt;/div&amp;gt;
-
-  &amp;lt;/body&amp;gt;
- diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
--index 5020726..92deadd 100644
-+index 92deadd..e48217e 100644
- --- a/example/get_hitmap_serial/report.md
- +++ b/example/get_hitmap_serial/report.md
--@@ -26,8 +26,8 @@ Here is the coverage map:
-- 
-- ![](coverage_map.png)
-- 
---The fraction of sky covered is 70733/196608 pixels
---(36.0%).
--+The fraction of sky covered is 70628/196608 pixels
--+(35.9%).
-- 
-- The total number of hit is 172800.0
-- 
- @@ -39,8 +39,8 @@ The total number of hit is 172800.0
-
-  -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
-  -   Version: 0.10.0, by The LiteBIRD simulation team
----   Commit hash: [cf5464d](https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337)
---    (commit comment: *add README.md*, by yusuke-takase)
--+-   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--+    (commit comment: *add example, update README.md*, by yusuke-takase)
-+--   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
-+-    (commit comment: *add example, update README.md*, by yusuke-takase)
-++-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-++    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
--@@ -48,38 +48,14 @@ Since the last commit, the following changes have been made to the
-+@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
-  code that has been ran:
-
-  ```
---diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
--- 
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
--- 
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
--+diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  ```
-  ---
-
---Report written on 2023-08-31 20:02:25
--+Report written on 2023-08-31 20:58:33
-+-Report written on 2023-08-31 20:58:33
-++Report written on 2023-09-01 13:47:37
-
- diff --git a/example/run_parallel.py b/example/run_parallel.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/run_parallel.py
- +++ b/example/run_parallel.py
--@@ -12,7 +12,7 @@ job_name    = &amp;quot;get_hitmap_parallel&amp;quot;
-- mode        = &amp;quot;debug&amp;quot; 
-- #mode        = &amp;quot;default&amp;quot;
-- user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
---coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;quot;
--+coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
-+ coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-  lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
-  jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-++conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-+ 
-+ elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
-+ if mode == &amp;quot;debug&amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+ 
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+ 
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+ 
-+ cd {coderoot}
- ```
- ---
-
--Report written on 2023-08-31 21:00:37
-+Report written on 2023-09-01 13:56:58
-
-diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
-index 2857590..4ba8dde 100644
---- a/example/get_hitmap_serial/report.html
-+++ b/example/get_hitmap_serial/report.html
-@@ -71,20 +71,100 @@
- &amp;lt;ul&amp;gt;
- &amp;lt;li&amp;gt;Main repository: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim&amp;quot;&amp;gt;github.com/litebird/litebird_sim&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
- &amp;lt;li&amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;lt;/li&amp;gt;
--&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
--    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-+&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;quot;&amp;gt;6d5a621&amp;lt;/a&amp;gt;
-+    (commit comment: &amp;lt;em&amp;gt;fix bug&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
- &amp;lt;/ul&amp;gt;
- &amp;lt;p&amp;gt;Since the last commit, the following changes have been made to the
- code that has been ran:&amp;lt;/p&amp;gt;
--&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-+ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- &amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;
- &amp;lt;hr /&amp;gt;
--&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-+&amp;lt;p&amp;gt;Report written on 2023-09-01 13:47:37&amp;lt;/p&amp;gt;
-     &amp;lt;/div&amp;gt;
-
- &amp;lt;/body&amp;gt;
-diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
-index 92deadd..e48217e 100644
---- a/example/get_hitmap_serial/report.md
-+++ b/example/get_hitmap_serial/report.md
-@@ -39,8 +39,8 @@ The total number of hit is 172800.0
-
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
-@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
-
- ```
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- ```
- ---
-
--Report written on 2023-08-31 20:58:33
-+Report written on 2023-09-01 13:47:37
-
-diff --git a/example/run_parallel.py b/example/run_parallel.py
-index d16693f..68c3394 100644
---- a/example/run_parallel.py
-+++ b/example/run_parallel.py
-@@ -15,10 +15,11 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
- coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
- lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
- jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-+conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-
- elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
- if mode == &amp;quot;debug&amp;quot;:
--    elapse     = &amp;quot;00:10:00&amp;quot;
-+    elapse  = &amp;quot;00:10:00&amp;quot;
-
-
- script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
-
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
-
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
-
- cd {coderoot}
-&lt;/code&gt;&lt;/pre&gt;
-&lt;hr /&gt;
-&lt;p&gt;Report written on 2023-09-01 16:44:33&lt;/p&gt;
-    &lt;/div&gt;
-
-&lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
diff --git a/example/SORA/get_hitmap_serial/report.md b/example/SORA/get_hitmap_serial/report.md
deleted file mode 100644
index f674594..0000000
--- a/example/SORA/get_hitmap_serial/report.md
+++ /dev/null
@@ -1,1569 +0,0 @@
-# Serial simulation tutorial
-
-
-
-The simulation starts at t0=0 and lasts 86400.0 seconds.
-
-The seed used for the random number generator is 12345.
-
-[TOC]
-
-
-
-## Generation of spacecraft quaternions
-
-Quaternions have been created for the simulation:
-
-- One quaternion every 60.0 seconds;
-- Memory usage: 46.1 kB
-
-
-
-
-## Coverage map
-
-Here is the coverage map:
-
-![](coverage_map.png)
-
-The fraction of sky covered is 70628/196608 pixels
-(35.9%).
-
-The total number of hit is 172800.0
-
-## Instrument model objects
-
-
-
-## Source code used in the simulation
-
--   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
--   Version: 0.10.0, by The LiteBIRD simulation team
--   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-    (commit comment: *fix bug*, by yusuke-takase)
-
-
-
-Since the last commit, the following changes have been made to the
-code that has been ran:
-
-```
-diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-index 7c5218b..35e2e88 100644
---- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+elapse      = &quot;12:00:00&quot;   # hh:mm:ss
- jobname     = &quot;jupyter&quot;
- port        = 7123 
- 
-@@ -29,8 +29,6 @@ pjm = &quot;&quot;&quot;#!/bin/zsh
- #JX -N {jobname}
- #JX -S
- 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
- module load singularity
- singularity run /data/{jss_account[0]}/{jss_account}/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser&quot;&quot;&quot;
- 
-diff --git a/build_jupyter.py b/build_jupyter.py
-index 7c5218b..74c5016 100644
---- a/build_jupyter.py
-+++ b/build_jupyter.py
-@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
- vnode       = 1
- vnode_core  = 1
- vnode_mem   = 24          # unit: GiB
--elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+elapse      = &quot;12:00:00&quot;   # hh:mm:ss
- jobname     = &quot;jupyter&quot;
- port        = 7123 
- 
-@@ -29,8 +29,7 @@ pjm = &quot;&quot;&quot;#!/bin/zsh
- #JX -N {jobname}
- #JX -S
- 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
-+cd /home/{jss_account[0]}/{jss_account}
- module load singularity
- singularity run /data/{jss_account[0]}/{jss_account}/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser&quot;&quot;&quot;
- 
-diff --git a/example/.d0026722526 b/example/.d0026722526
-deleted file mode 100755
-index c7f9259..0000000
---- a/example/.d0026722526
-+++ /dev/null
-@@ -1,18 +0,0 @@
--#!/bin/zsh
--#JX --bizcode DU10503
--#JX -L rscunit=RURI
--#JX -L vnode=1
--#JX -L vnode-core=1
--#JX -L vnode-mem=24Gi
--#JX -L elapse=4:00:00
--#JX -L jobenv=singularity
--#JX -o /data/t/t541/.log/jupyter/%n_%j.out
--#JX -e /data/t/t541/.log/jupyter/%n_%j.err
--#JX --spath /data/t/t541/.log/%n_%j.stats
--#JX -N jupyter
--#JX -S
--
--source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
--conda activate jupy
--module load singularity
--singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-\ No newline at end of file
-diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-deleted file mode 100755
-index 17ac2a5..0000000
---- a/example/.d0026722526_nodeinfo
-+++ /dev/null
-@@ -1 +0,0 @@
--10.3.16.23
-diff --git a/example/.d0026722526e b/example/.d0026722526e
-deleted file mode 100755
-index b783ee3..0000000
---- a/example/.d0026722526e
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing epilogue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-diff --git a/example/.d0026722526p b/example/.d0026722526p
-deleted file mode 100755
-index 3c051a0..0000000
---- a/example/.d0026722526p
-+++ /dev/null
-@@ -1,8 +0,0 @@
--#!/bin/sh
--
--#
--# This is the wrapper script for executing prologue
--#
--# DO NOT EDIT this file !!  edit the main script below
--#
--exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-index d16693f..68c3394 100644
---- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-@@ -15,10 +15,11 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
- coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
- lbsim_code  = &quot;get_hitmap_parallel.py&quot;
- jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-+conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
- 
- elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
- if mode == &quot;debug&quot;:
--    elapse     = &quot;00:10:00&quot;
-+    elapse  = &quot;00:10:00&quot;
- 
- 
- script_contents = &quot;&quot;&quot;#!/bin/zsh
-@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
- 
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
- 
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
- 
- cd {coderoot}
-diff --git a/example/get_hitmap_parallel/report.html b/example/get_hitmap_parallel/report.html
-index fbe4f0e..906b128 100644
---- a/example/get_hitmap_parallel/report.html
-+++ b/example/get_hitmap_parallel/report.html
-@@ -73,194 +73,401 @@
- &lt;ul&gt;
- &lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
- &lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
--&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&quot;&gt;6ed25e1&lt;/a&gt;
--    (commit comment: &lt;em&gt;add example, update README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-+&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-+    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
- &lt;/ul&gt;
- &lt;p&gt;Since the last commit, the following changes have been made to the
- code that has been ran:&lt;/p&gt;
--&lt;pre&gt;&lt;code&gt;diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--index a6a46c4..d16693f 100644
-+&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-+diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
-+index d16693f..fc48809 100644
- --- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
- +++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--@@ -12,7 +12,7 @@ job_name    = &amp;quot;get_hitmap_parallel&amp;quot;
-- mode        = &amp;quot;debug&amp;quot; 
-- #mode        = &amp;quot;default&amp;quot;
-- user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
---coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;quot;
--+coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
-+ coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-  lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
-  jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-++conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
- 
--diff --git a/example/get_hitmap_parallel.py b/example/get_hitmap_parallel.py
--index 2608f38..7e3a031 100644
--Binary files a/example/get_hitmap_parallel.py and b/example/get_hitmap_parallel.py differ
--diff --git a/example/get_hitmap_parallel/coverage_map.png b/example/get_hitmap_parallel/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_parallel/coverage_map.png and b/example/get_hitmap_parallel/coverage_map.png differ
--diff --git a/example/get_hitmap_parallel/hitmap.fits b/example/get_hitmap_parallel/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_parallel/hitmap.fits and b/example/get_hitmap_parallel/hitmap.fits differ
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+ elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
-+ if mode == &amp;quot;debug&amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+
-+ cd {coderoot}
- diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
--index 963d24a..2857590 100644
-+index 2857590..4ba8dde 100644
- --- a/example/get_hitmap_serial/report.html
- +++ b/example/get_hitmap_serial/report.html
--@@ -63,52 +63,28 @@
-- &amp;lt;h2 id=&amp;quot;coverage-map&amp;quot;&amp;gt;Coverage map&amp;lt;/h2&amp;gt;
-- &amp;lt;p&amp;gt;Here is the coverage map:&amp;lt;/p&amp;gt;
-- &amp;lt;p&amp;gt;&amp;lt;img alt=&amp;quot;&amp;quot; src=&amp;quot;coverage_map.png&amp;quot; /&amp;gt;&amp;lt;/p&amp;gt;
---&amp;lt;p&amp;gt;The fraction of sky covered is 70733/196608 pixels
---(36.0%).&amp;lt;/p&amp;gt;
--+&amp;lt;p&amp;gt;The fraction of sky covered is 70628/196608 pixels
--+(35.9%).&amp;lt;/p&amp;gt;
-- &amp;lt;p&amp;gt;The total number of hit is 172800.0&amp;lt;/p&amp;gt;
-- &amp;lt;h2 id=&amp;quot;instrument-model-objects&amp;quot;&amp;gt;Instrument model objects&amp;lt;/h2&amp;gt;
-- &amp;lt;h2 id=&amp;quot;source-code-used-in-the-simulation&amp;quot;&amp;gt;Source code used in the simulation&amp;lt;/h2&amp;gt;
-+@@ -71,20 +71,100 @@
-  &amp;lt;ul&amp;gt;
-  &amp;lt;li&amp;gt;Main repository: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim&amp;quot;&amp;gt;github.com/litebird/litebird_sim&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
-  &amp;lt;li&amp;gt;Version: 0.10.0, by The LiteBIRD simulation team&amp;lt;/li&amp;gt;
---&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&amp;quot;&amp;gt;cf5464d&amp;lt;/a&amp;gt;
---    (commit comment: &amp;lt;em&amp;gt;add README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
--+&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
--+    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-+-&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&amp;quot;&amp;gt;6ed25e1&amp;lt;/a&amp;gt;
-+-    (commit comment: &amp;lt;em&amp;gt;add example, update README.md&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-++&amp;lt;li&amp;gt;Commit hash: &amp;lt;a href=&amp;quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&amp;quot;&amp;gt;6d5a621&amp;lt;/a&amp;gt;
-++    (commit comment: &amp;lt;em&amp;gt;fix bug&amp;lt;/em&amp;gt;, by yusuke-takase)&amp;lt;/li&amp;gt;
-  &amp;lt;/ul&amp;gt;
-  &amp;lt;p&amp;gt;Since the last commit, the following changes have been made to the
-  code that has been ran:&amp;lt;/p&amp;gt;
---&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
---
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;amp;quot;DU10503&amp;amp;quot;
--- jss_account = &amp;amp;quot;t541&amp;amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
--- jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
---
--- pjm = &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;#!/bin/zsh
--+&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++&amp;lt;pre&amp;gt;&amp;lt;code&amp;gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;amp;quot;t541&amp;amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;amp;quot;4:00:00&amp;amp;quot;   # hh:mm:ss
-+++elapse      = &amp;amp;quot;12:00:00&amp;amp;quot;   # hh:mm:ss
-++ jobname     = &amp;amp;quot;jupyter&amp;amp;quot;
-++ port        = 7123 
-++
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  &amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;
-  &amp;lt;hr /&amp;gt;
---&amp;lt;p&amp;gt;Report written on 2023-08-31 20:02:25&amp;lt;/p&amp;gt;
--+&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-+-&amp;lt;p&amp;gt;Report written on 2023-08-31 20:58:33&amp;lt;/p&amp;gt;
-++&amp;lt;p&amp;gt;Report written on 2023-09-01 13:47:37&amp;lt;/p&amp;gt;
-      &amp;lt;/div&amp;gt;
- 
-  &amp;lt;/body&amp;gt;
- diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
--index 5020726..92deadd 100644
-+index 92deadd..e48217e 100644
- --- a/example/get_hitmap_serial/report.md
- +++ b/example/get_hitmap_serial/report.md
--@@ -26,8 +26,8 @@ Here is the coverage map:
--
-- ![](coverage_map.png)
--
---The fraction of sky covered is 70733/196608 pixels
---(36.0%).
--+The fraction of sky covered is 70628/196608 pixels
--+(35.9%).
--
-- The total number of hit is 172800.0
--
- @@ -39,8 +39,8 @@ The total number of hit is 172800.0
- 
-  -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
-  -   Version: 0.10.0, by The LiteBIRD simulation team
----   Commit hash: [cf5464d](https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337)
---    (commit comment: *add README.md*, by yusuke-takase)
--+-   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--+    (commit comment: *add example, update README.md*, by yusuke-takase)
-+--   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
-+-    (commit comment: *add example, update README.md*, by yusuke-takase)
-++-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-++    (commit comment: *fix bug*, by yusuke-takase)
- 
- 
- 
--@@ -48,38 +48,14 @@ Since the last commit, the following changes have been made to the
-+@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
-  code that has been ran:
- 
-  ```
---diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
--- 
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
--- 
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
--+diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++ 
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  ```
-  ---
- 
---Report written on 2023-08-31 20:02:25
--+Report written on 2023-08-31 20:58:33
-+-Report written on 2023-08-31 20:58:33
-++Report written on 2023-09-01 13:47:37
- 
- diff --git a/example/run_parallel.py b/example/run_parallel.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/run_parallel.py
- +++ b/example/run_parallel.py
--@@ -12,7 +12,7 @@ job_name    = &amp;quot;get_hitmap_parallel&amp;quot;
-- mode        = &amp;quot;debug&amp;quot; 
-- #mode        = &amp;quot;default&amp;quot;
-- user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
---coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&amp;quot;
--+coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-+@@ -15,6 +15,7 @@ user_email  = &amp;quot;takase_y@s.okayama-u.ac.jp&amp;quot;
-+ coderoot    = f&amp;quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&amp;quot;
-  lbsim_code  = &amp;quot;get_hitmap_parallel.py&amp;quot;
-  jobscript   = coderoot + &amp;quot;/&amp;quot; + &amp;quot;run_&amp;quot;+job_name+&amp;quot;.pjm&amp;quot;
-++conda_base  = f&amp;quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&amp;quot;
-+
-+ elapse      = &amp;quot;00:01:00&amp;quot; # When you use the `debug` mode you should requesgt &amp;lt;= 1800 == &amp;quot;00:30:00&amp;quot;
-+ if mode == &amp;quot;debug&amp;quot;:
-+@@ -30,17 +31,17 @@ script_contents = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+
-+ cd {coderoot}
- &lt;/code&gt;&lt;/pre&gt;
- &lt;hr /&gt;
--&lt;p&gt;Report written on 2023-08-31 21:00:37&lt;/p&gt;
-+&lt;p&gt;Report written on 2023-09-01 13:56:58&lt;/p&gt;
-     &lt;/div&gt;
- 
- &lt;/body&gt;
-diff --git a/example/get_hitmap_parallel/report.md b/example/get_hitmap_parallel/report.md
-index 509a1f7..f94dc88 100644
---- a/example/get_hitmap_parallel/report.md
-+++ b/example/get_hitmap_parallel/report.md
-@@ -40,8 +40,8 @@ Quaternions have been created for the simulation:
- 
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
- 
- 
- 
-@@ -49,188 +49,395 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
- 
- ```
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- diff --git a/example/.ipynb_checkpoints/run_parallel-checkpoint.py b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/.ipynb_checkpoints/run_parallel-checkpoint.py
- +++ b/example/.ipynb_checkpoints/run_parallel-checkpoint.py
--@@ -12,7 +12,7 @@ job_name    = &quot;get_hitmap_parallel&quot;
-- mode        = &quot;debug&quot; 
-- #mode        = &quot;default&quot;
-- user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
---coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&quot;
--+coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
-+@@ -15,6 +15,7 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
-+ coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
-  lbsim_code  = &quot;get_hitmap_parallel.py&quot;
-  jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-++conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
-  
--diff --git a/example/get_hitmap_parallel.py b/example/get_hitmap_parallel.py
--index 2608f38..7e3a031 100644
--Binary files a/example/get_hitmap_parallel.py and b/example/get_hitmap_parallel.py differ
--diff --git a/example/get_hitmap_parallel/coverage_map.png b/example/get_hitmap_parallel/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_parallel/coverage_map.png and b/example/get_hitmap_parallel/coverage_map.png differ
--diff --git a/example/get_hitmap_parallel/hitmap.fits b/example/get_hitmap_parallel/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_parallel/hitmap.fits and b/example/get_hitmap_parallel/hitmap.fits differ
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+ elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
-+ if mode == &quot;debug&quot;:
-+@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+ 
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+ 
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+ 
-+ cd {coderoot}
- diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
--index 963d24a..2857590 100644
-+index 2857590..4ba8dde 100644
- --- a/example/get_hitmap_serial/report.html
- +++ b/example/get_hitmap_serial/report.html
--@@ -63,52 +63,28 @@
-- &lt;h2 id=&quot;coverage-map&quot;&gt;Coverage map&lt;/h2&gt;
-- &lt;p&gt;Here is the coverage map:&lt;/p&gt;
-- &lt;p&gt;&lt;img alt=&quot;&quot; src=&quot;coverage_map.png&quot; /&gt;&lt;/p&gt;
---&lt;p&gt;The fraction of sky covered is 70733/196608 pixels
---(36.0%).&lt;/p&gt;
--+&lt;p&gt;The fraction of sky covered is 70628/196608 pixels
--+(35.9%).&lt;/p&gt;
-- &lt;p&gt;The total number of hit is 172800.0&lt;/p&gt;
-- &lt;h2 id=&quot;instrument-model-objects&quot;&gt;Instrument model objects&lt;/h2&gt;
-- &lt;h2 id=&quot;source-code-used-in-the-simulation&quot;&gt;Source code used in the simulation&lt;/h2&gt;
-+@@ -71,20 +71,100 @@
-  &lt;ul&gt;
-  &lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
-  &lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
---&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337&quot;&gt;cf5464d&lt;/a&gt;
---    (commit comment: &lt;em&gt;add README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
--+&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&quot;&gt;6ed25e1&lt;/a&gt;
--+    (commit comment: &lt;em&gt;add example, update README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-+-&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&quot;&gt;6ed25e1&lt;/a&gt;
-+-    (commit comment: &lt;em&gt;add example, update README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-++&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-++    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-  &lt;/ul&gt;
-  &lt;p&gt;Since the last commit, the following changes have been made to the
-  code that has been ran:&lt;/p&gt;
---&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
---
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &amp;quot;DU10503&amp;quot;
--- jss_account = &amp;quot;t541&amp;quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &amp;quot;4:00:00&amp;quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
--- jobname     = &amp;quot;jupyter&amp;quot;
---
--- pjm = &amp;quot;&amp;quot;&amp;quot;#!/bin/zsh
--+&lt;pre&gt;&lt;code&gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-&lt;pre&gt;&lt;code&gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-+++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-++ jobname     = &amp;quot;jupyter&amp;quot;
-++ port        = 7123 
-++
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  &lt;/code&gt;&lt;/pre&gt;
-  &lt;hr /&gt;
---&lt;p&gt;Report written on 2023-08-31 20:02:25&lt;/p&gt;
--+&lt;p&gt;Report written on 2023-08-31 20:58:33&lt;/p&gt;
-+-&lt;p&gt;Report written on 2023-08-31 20:58:33&lt;/p&gt;
-++&lt;p&gt;Report written on 2023-09-01 13:47:37&lt;/p&gt;
-      &lt;/div&gt;
-  
-  &lt;/body&gt;
- diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
--index 5020726..92deadd 100644
-+index 92deadd..e48217e 100644
- --- a/example/get_hitmap_serial/report.md
- +++ b/example/get_hitmap_serial/report.md
--@@ -26,8 +26,8 @@ Here is the coverage map:
-- 
-- ![](coverage_map.png)
-- 
---The fraction of sky covered is 70733/196608 pixels
---(36.0%).
--+The fraction of sky covered is 70628/196608 pixels
--+(35.9%).
-- 
-- The total number of hit is 172800.0
-- 
- @@ -39,8 +39,8 @@ The total number of hit is 172800.0
-  
-  -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
-  -   Version: 0.10.0, by The LiteBIRD simulation team
----   Commit hash: [cf5464d](https://github.com/litebird/litebird_sim/commit/cf5464d418ba9d19cc6d5dd9ac94195e2af77337)
---    (commit comment: *add README.md*, by yusuke-takase)
--+-   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--+    (commit comment: *add example, update README.md*, by yusuke-takase)
-+--   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
-+-    (commit comment: *add example, update README.md*, by yusuke-takase)
-++-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-++    (commit comment: *fix bug*, by yusuke-takase)
-  
-  
-  
--@@ -48,38 +48,14 @@ Since the last commit, the following changes have been made to the
-+@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
-  code that has been ran:
-  
-  ```
---diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---index 32e9e0a..be4fb79 100644
------ a/.ipynb_checkpoints/build_jupyter-checkpoint.py
---+++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
---@@ -8,8 +8,8 @@ bizcode     = &quot;DU10503&quot;
--- jss_account = &quot;t541&quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &quot;4:00:00&quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &quot;4:00:00&quot;   # hh:mm:ss
--- jobname     = &quot;jupyter&quot;
--- 
--- pjm = &quot;&quot;&quot;#!/bin/zsh
---diff --git a/build_jupyter.py b/build_jupyter.py
---index 32e9e0a..be4fb79 100644
------ a/build_jupyter.py
---+++ b/build_jupyter.py
---@@ -8,8 +8,8 @@ bizcode     = &quot;DU10503&quot;
--- jss_account = &quot;t541&quot;
--- vnode       = 1
--- vnode_core  = 1
----vnode_mem   = 24           # unit: GiB
----elapse      = &quot;4:00:00&quot;    # hh:mm:ss
---+vnode_mem   = 24          # unit: GiB
---+elapse      = &quot;4:00:00&quot;   # hh:mm:ss
--- jobname     = &quot;jupyter&quot;
--- 
--- pjm = &quot;&quot;&quot;#!/bin/zsh
--+diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--+index 6ed9a13..260efcd 100644
--+Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--+diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--+index e0185b4..b613a1a 100644
--+Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+-diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
-+-index 6ed9a13..260efcd 100644
-+-Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
-+-diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
-+-index e0185b4..b613a1a 100644
-+-Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-++diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++index 7c5218b..06085c9 100644
-++--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-++ jobname     = &quot;jupyter&quot;
-++ port        = 7123 
-++ 
-++diff --git a/build_jupyter.py b/build_jupyter.py
-++index 7c5218b..06085c9 100644
-++--- a/build_jupyter.py
-+++++ b/build_jupyter.py
-++@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-++ vnode       = 1
-++ vnode_core  = 1
-++ vnode_mem   = 24          # unit: GiB
-++-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-+++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-++ jobname     = &quot;jupyter&quot;
-++ port        = 7123 
-++ 
-++diff --git a/example/.d0026722526 b/example/.d0026722526
-++deleted file mode 100755
-++index c7f9259..0000000
-++--- a/example/.d0026722526
-+++++ /dev/null
-++@@ -1,18 +0,0 @@
-++-#!/bin/zsh
-++-#JX --bizcode DU10503
-++-#JX -L rscunit=RURI
-++-#JX -L vnode=1
-++-#JX -L vnode-core=1
-++-#JX -L vnode-mem=24Gi
-++-#JX -L elapse=4:00:00
-++-#JX -L jobenv=singularity
-++-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-++-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-++-#JX --spath /data/t/t541/.log/%n_%j.stats
-++-#JX -N jupyter
-++-#JX -S
-++-
-++-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-++-conda activate jupy
-++-module load singularity
-++-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-++\ No newline at end of file
-++diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-++deleted file mode 100755
-++index 17ac2a5..0000000
-++--- a/example/.d0026722526_nodeinfo
-+++++ /dev/null
-++@@ -1 +0,0 @@
-++-10.3.16.23
-++diff --git a/example/.d0026722526e b/example/.d0026722526e
-++deleted file mode 100755
-++index b783ee3..0000000
-++--- a/example/.d0026722526e
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing epilogue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-++diff --git a/example/.d0026722526p b/example/.d0026722526p
-++deleted file mode 100755
-++index 3c051a0..0000000
-++--- a/example/.d0026722526p
-+++++ /dev/null
-++@@ -1,8 +0,0 @@
-++-#!/bin/sh
-++-
-++-#
-++-# This is the wrapper script for executing prologue
-++-#
-++-# DO NOT EDIT this file !!  edit the main script below
-++-#
-++-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
-  ```
-  ---
-  
---Report written on 2023-08-31 20:02:25
--+Report written on 2023-08-31 20:58:33
-+-Report written on 2023-08-31 20:58:33
-++Report written on 2023-09-01 13:47:37
-  
- diff --git a/example/run_parallel.py b/example/run_parallel.py
--index a6a46c4..d16693f 100644
-+index d16693f..fc48809 100644
- --- a/example/run_parallel.py
- +++ b/example/run_parallel.py
--@@ -12,7 +12,7 @@ job_name    = &quot;get_hitmap_parallel&quot;
-- mode        = &quot;debug&quot; 
-- #mode        = &quot;default&quot;
-- user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
---coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss_tools/example&quot;
--+coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
-+@@ -15,6 +15,7 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
-+ coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
-  lbsim_code  = &quot;get_hitmap_parallel.py&quot;
-  jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-++conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
-+ 
-+ elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
-+ if mode == &quot;debug&quot;:
-+@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
-+ #JX -L vnode-core={vnode_core}
-+ #JX -L vnode-mem={vnode_mem}Gi
-+ 
-+-#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
-+-#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
-+-#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-++#JX -o {coderoot}/log/%n_%j.out
-++#JX -e {coderoot}/log/%n_%j.err
-++#JX --spath {coderoot}/log/%n_%j.stats
-+ #JX -N {job_name}
-+ #JX -m e
-+ #JX --mail-list {user_email}
-+ #JX -S
-+ #export OMP_NUM_THREADS=1
-+ 
-+-module load intel 
-+-source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-++module load intel
-++source {conda_base}
-+ conda activate lbs_env
-+ 
-+ cd {coderoot}
- ```
- ---
- 
--Report written on 2023-08-31 21:00:37
-+Report written on 2023-09-01 13:56:58
- 
-diff --git a/example/get_hitmap_serial/report.html b/example/get_hitmap_serial/report.html
-index 2857590..4ba8dde 100644
---- a/example/get_hitmap_serial/report.html
-+++ b/example/get_hitmap_serial/report.html
-@@ -71,20 +71,100 @@
- &lt;ul&gt;
- &lt;li&gt;Main repository: &lt;a href=&quot;https://github.com/litebird/litebird_sim&quot;&gt;github.com/litebird/litebird_sim&lt;/a&gt;&lt;/li&gt;
- &lt;li&gt;Version: 0.10.0, by The LiteBIRD simulation team&lt;/li&gt;
--&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee&quot;&gt;6ed25e1&lt;/a&gt;
--    (commit comment: &lt;em&gt;add example, update README.md&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
-+&lt;li&gt;Commit hash: &lt;a href=&quot;https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a&quot;&gt;6d5a621&lt;/a&gt;
-+    (commit comment: &lt;em&gt;fix bug&lt;/em&gt;, by yusuke-takase)&lt;/li&gt;
- &lt;/ul&gt;
- &lt;p&gt;Since the last commit, the following changes have been made to the
- code that has been ran:&lt;/p&gt;
--&lt;pre&gt;&lt;code&gt;diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+&lt;pre&gt;&lt;code&gt;diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &amp;quot;t541&amp;quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &amp;quot;4:00:00&amp;quot;   # hh:mm:ss
-++elapse      = &amp;quot;12:00:00&amp;quot;   # hh:mm:ss
-+ jobname     = &amp;quot;jupyter&amp;quot;
-+ port        = 7123 
-+
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- &lt;/code&gt;&lt;/pre&gt;
- &lt;hr /&gt;
--&lt;p&gt;Report written on 2023-08-31 20:58:33&lt;/p&gt;
-+&lt;p&gt;Report written on 2023-09-01 13:47:37&lt;/p&gt;
-     &lt;/div&gt;
- 
- &lt;/body&gt;
-diff --git a/example/get_hitmap_serial/report.md b/example/get_hitmap_serial/report.md
-index 92deadd..e48217e 100644
---- a/example/get_hitmap_serial/report.md
-+++ b/example/get_hitmap_serial/report.md
-@@ -39,8 +39,8 @@ The total number of hit is 172800.0
- 
- -   Main repository: [github.com/litebird/litebird_sim](https://github.com/litebird/litebird_sim)
- -   Version: 0.10.0, by The LiteBIRD simulation team
---   Commit hash: [6ed25e1](https://github.com/litebird/litebird_sim/commit/6ed25e15676e06cef8b2a79aca0b03a9bb61e7ee)
--    (commit comment: *add example, update README.md*, by yusuke-takase)
-+-   Commit hash: [6d5a621](https://github.com/litebird/litebird_sim/commit/6d5a621b02a5762ad4e2b6a0025d75c3b94d725a)
-+    (commit comment: *fix bug*, by yusuke-takase)
- 
- 
- 
-@@ -48,14 +48,94 @@ Since the last commit, the following changes have been made to the
- code that has been ran:
- 
- ```
--diff --git a/example/get_hitmap_serial/coverage_map.png b/example/get_hitmap_serial/coverage_map.png
--index 6ed9a13..260efcd 100644
--Binary files a/example/get_hitmap_serial/coverage_map.png and b/example/get_hitmap_serial/coverage_map.png differ
--diff --git a/example/get_hitmap_serial/hitmap.fits b/example/get_hitmap_serial/hitmap.fits
--index e0185b4..b613a1a 100644
--Binary files a/example/get_hitmap_serial/hitmap.fits and b/example/get_hitmap_serial/hitmap.fits differ
-+diff --git a/.ipynb_checkpoints/build_jupyter-checkpoint.py b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+index 7c5218b..06085c9 100644
-+--- a/.ipynb_checkpoints/build_jupyter-checkpoint.py
-++++ b/.ipynb_checkpoints/build_jupyter-checkpoint.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/build_jupyter.py b/build_jupyter.py
-+index 7c5218b..06085c9 100644
-+--- a/build_jupyter.py
-++++ b/build_jupyter.py
-+@@ -11,7 +11,7 @@ jss_account = &quot;t541&quot;
-+ vnode       = 1
-+ vnode_core  = 1
-+ vnode_mem   = 24          # unit: GiB
-+-elapse      = &quot;4:00:00&quot;   # hh:mm:ss
-++elapse      = &quot;12:00:00&quot;   # hh:mm:ss
-+ jobname     = &quot;jupyter&quot;
-+ port        = 7123 
-+ 
-+diff --git a/example/.d0026722526 b/example/.d0026722526
-+deleted file mode 100755
-+index c7f9259..0000000
-+--- a/example/.d0026722526
-++++ /dev/null
-+@@ -1,18 +0,0 @@
-+-#!/bin/zsh
-+-#JX --bizcode DU10503
-+-#JX -L rscunit=RURI
-+-#JX -L vnode=1
-+-#JX -L vnode-core=1
-+-#JX -L vnode-mem=24Gi
-+-#JX -L elapse=4:00:00
-+-#JX -L jobenv=singularity
-+-#JX -o /data/t/t541/.log/jupyter/%n_%j.out
-+-#JX -e /data/t/t541/.log/jupyter/%n_%j.err
-+-#JX --spath /data/t/t541/.log/%n_%j.stats
-+-#JX -N jupyter
-+-#JX -S
-+-
-+-source /data/t/t541/.src/anaconda3/etc/profile.d/conda.sh
-+-conda activate jupy
-+-module load singularity
-+-singularity run /data/t/t541/.src/singularity/ubuntu_20.04_jupyter_edit.sif jupyter lab --ip=0.0.0.0 --no-browser
-+\ No newline at end of file
-+diff --git a/example/.d0026722526_nodeinfo b/example/.d0026722526_nodeinfo
-+deleted file mode 100755
-+index 17ac2a5..0000000
-+--- a/example/.d0026722526_nodeinfo
-++++ /dev/null
-+@@ -1 +0,0 @@
-+-10.3.16.23
-+diff --git a/example/.d0026722526e b/example/.d0026722526e
-+deleted file mode 100755
-+index b783ee3..0000000
-+--- a/example/.d0026722526e
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing epilogue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/epilogue/epilogue_main.sh
-+diff --git a/example/.d0026722526p b/example/.d0026722526p
-+deleted file mode 100755
-+index 3c051a0..0000000
-+--- a/example/.d0026722526p
-++++ /dev/null
-+@@ -1,8 +0,0 @@
-+-#!/bin/sh
-+-
-+-#
-+-# This is the wrapper script for executing prologue
-+-#
-+-# DO NOT EDIT this file !!  edit the main script below
-+-#
-+-exec /opt/local/tcs/x86_64/prologue/prologue_main.sh
- ```
- ---
- 
--Report written on 2023-08-31 20:58:33
-+Report written on 2023-09-01 13:47:37
- 
-diff --git a/example/run_parallel.py b/example/run_parallel.py
-index d16693f..68c3394 100644
---- a/example/run_parallel.py
-+++ b/example/run_parallel.py
-@@ -15,10 +15,11 @@ user_email  = &quot;takase_y@s.okayama-u.ac.jp&quot;
- coderoot    = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example&quot;
- lbsim_code  = &quot;get_hitmap_parallel.py&quot;
- jobscript   = coderoot + &quot;/&quot; + &quot;run_&quot;+job_name+&quot;.pjm&quot;
-+conda_base  = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh&quot;
- 
- elapse      = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
- if mode == &quot;debug&quot;:
--    elapse     = &quot;00:10:00&quot;
-+    elapse  = &quot;00:10:00&quot;
- 
- 
- script_contents = &quot;&quot;&quot;#!/bin/zsh
-@@ -30,17 +31,17 @@ script_contents = &quot;&quot;&quot;#!/bin/zsh
- #JX -L vnode-core={vnode_core}
- #JX -L vnode-mem={vnode_mem}Gi
- 
--#JX -o /data/{jss_account[0]}/{jss_account}/.log/%n_%j.out
--#JX -e /data/{jss_account[0]}/{jss_account}/.log/%n_%j.err
--#JX --spath /data/{jss_account[0]}/{jss_account}/.log/%n_%j.stats
-+#JX -o {coderoot}/log/%n_%j.out
-+#JX -e {coderoot}/log/%n_%j.err
-+#JX --spath {coderoot}/log/%n_%j.stats
- #JX -N {job_name}
- #JX -m e
- #JX --mail-list {user_email}
- #JX -S
- #export OMP_NUM_THREADS=1
- 
--module load intel 
--source /data/{jss_account[0]}/{jss_account}/.src/anaconda3/etc/profile.d/conda.sh
-+module load intel
-+source {conda_base}
- conda activate lbs_env
- 
- cd {coderoot}
-```
----
-
-Report written on 2023-09-01 16:44:33
-
diff --git a/example/SORA/get_hitmap_serial/sakura.css b/example/SORA/get_hitmap_serial/sakura.css
deleted file mode 100644
index 4d4eae7..0000000
--- a/example/SORA/get_hitmap_serial/sakura.css
+++ /dev/null
@@ -1,165 +0,0 @@
-/* Sakura.css v1.0.0
- * ================
- * Minimal css theme.
- * Project: https://github.com/oxalorg/sakura
- */
-/* Body */
-html {
-  font-size: 62.5%;
-  font-family: serif; }
-
-body {
-  font-size: 1.8rem;
-  line-height: 1.618;
-  max-width: 38em;
-  margin: auto;
-  color: #4a4a4a;
-  background-color: #f9f9f9;
-  padding: 13px; }
-
-@media (max-width: 684px) {
-  body {
-    font-size: 1.53rem; } }
-
-@media (max-width: 382px) {
-  body {
-    font-size: 1.35rem; } }
-
-h1, h2, h3, h4, h5, h6 {
-  line-height: 1.1;
-  font-family: Verdana, Geneva, sans-serif;
-  font-weight: 700;
-  overflow-wrap: break-word;
-  word-wrap: break-word;
-  -ms-word-break: break-all;
-  word-break: break-word;
-  -ms-hyphens: auto;
-  -moz-hyphens: auto;
-  -webkit-hyphens: auto;
-  hyphens: auto; }
-
-h1 {
-  font-size: 2.35em; }
-
-h2 {
-  font-size: 2.00em; }
-
-h3 {
-  font-size: 1.75em; }
-
-h4 {
-  font-size: 1.5em; }
-
-h5 {
-  font-size: 1.25em; }
-
-h6 {
-  font-size: 1em; }
-
-small, sub, sup {
-  font-size: 75%; }
-
-hr {
-  border-color: #2c8898; }
-
-a {
-  text-decoration: none;
-  color: #2c8898; }
-  a:hover {
-    color: #982c61;
-    border-bottom: 2px solid #4a4a4a; }
-
-ul {
-  padding-left: 1.4em; }
-
-li {
-  margin-bottom: 0.4em; }
-
-blockquote {
-  font-style: italic;
-  margin-left: 1.5em;
-  padding-left: 1em;
-  border-left: 3px solid #2c8898; }
-
-img {
-  max-width: 100%; }
-
-/* Pre and Code */
-pre {
-  background-color: #f1f1f1;
-  display: block;
-  padding: 1em;
-  overflow-x: auto; }
-
-code {
-  font-size: 0.9em;
-  padding: 0 0.5em;
-  background-color: #f1f1f1;
-  white-space: pre-wrap; }
-
-pre &gt; code {
-  padding: 0;
-  background-color: transparent;
-  white-space: pre; }
-
-/* Tables */
-table {
-  text-align: justify;
-  width: 100%;
-  border-collapse: collapse; }
-
-td, th {
-  padding: 0.5em;
-  border-bottom: 1px solid #f1f1f1; }
-
-/* Buttons, forms and input */
-input, textarea {
-  border: 1px solid #4a4a4a; }
-  input:focus, textarea:focus {
-    border: 1px solid #2c8898; }
-
-textarea {
-  width: 100%; }
-
-.button, button, input[type=&quot;submit&quot;], input[type=&quot;reset&quot;], input[type=&quot;button&quot;] {
-  display: inline-block;
-  padding: 5px 10px;
-  text-align: center;
-  text-decoration: none;
-  white-space: nowrap;
-  background-color: #2c8898;
-  color: #f9f9f9;
-  border-radius: 1px;
-  border: 1px solid #2c8898;
-  cursor: pointer;
-  box-sizing: border-box; }
-  .button[disabled], button[disabled], input[type=&quot;submit&quot;][disabled], input[type=&quot;reset&quot;][disabled], input[type=&quot;button&quot;][disabled] {
-    cursor: default;
-    opacity: .5; }
-  .button:focus, .button:hover, button:focus, button:hover, input[type=&quot;submit&quot;]:focus, input[type=&quot;submit&quot;]:hover, input[type=&quot;reset&quot;]:focus, input[type=&quot;reset&quot;]:hover, input[type=&quot;button&quot;]:focus, input[type=&quot;button&quot;]:hover {
-    background-color: #982c61;
-    border-color: #982c61;
-    color: #f9f9f9;
-    outline: 0; }
-
-textarea, select, input[type] {
-  color: #4a4a4a;
-  padding: 6px 10px;
-  /* The 6px vertically centers text on FF, ignored by Webkit */
-  margin-bottom: 10px;
-  background-color: #f1f1f1;
-  border: 1px solid #f1f1f1;
-  border-radius: 4px;
-  box-shadow: none;
-  box-sizing: border-box; }
-  textarea:focus, select:focus, input[type]:focus {
-    border: 1px solid #2c8898;
-    outline: 0; }
-
-input[type=&quot;checkbox&quot;]:focus {
-  outline: 1px dotted #2c8898; }
-
-label, legend, fieldset {
-  display: block;
-  margin-bottom: .5rem;
-  font-weight: 600; }
diff --git a/example/SORA/run_parallel.py b/example/SORA/run_parallel.py
deleted file mode 100644
index fc07fd3..0000000
--- a/example/SORA/run_parallel.py
+++ /dev/null
@@ -1,67 +0,0 @@
-import numpy as np
-import subprocess
-import sys
-import os 
-
-bizcode       = &quot;DU10503&quot;
-jss_account   = &quot;t541&quot;
-resource_unit = &quot;SORA&quot;
-node          = 1
-node_mem      = 28   # Unit: GiB, Upper limit=28GiB, Value when unspecified=28GiB
-mpi_process   = 4   # Upper limit of number of process per node is 48
-mode          = &quot;debug&quot; 
-job_name      = &quot;get_hitmap_parallel_sora&quot;
-
-#mode          = &quot;default&quot;
-user_email    = &quot;takase_y@s.okayama-u.ac.jp&quot;
-coderoot      = f&quot;/home/{jss_account[0]}/{jss_account}/data/jss3_tools/example/SORA&quot;
-codename      = &quot;get_hitmap_parallel.py&quot;
-jobscript     = coderoot+&quot;/&quot;+&quot;run_&quot;+job_name+&quot;.pjm&quot;
-venv_base     = f&quot;/ssd/{jss_account[0]}/{jss_account}/.src/lbs_sora/bin/activate&quot;
-  
-elapse        = &quot;00:01:00&quot; # When you use the `debug` mode you should requesgt &lt;= 1800 == &quot;00:30:00&quot;
-if mode == &quot;debug&quot;:
-    elapse    = &quot;00:10:00&quot;
-
-
-script_contents = &quot;&quot;&quot;#!/bin/zsh
-#JX --bizcode {bizcode}
-#JX -L rscunit={resource_unit}
-#JX -L rscgrp={mode}
-#JX -L elapse={elapse}
-#JX -L node={node}
-#JX -L node-mem={node_mem}Gi
-#JX --mpi proc={mpi_process}
-#JX -o {coderoot}/log/%n_%j.out
-#JX -e {coderoot}/log/%n_%j.err
-#JX --spath {coderoot}/log/%n_%j.stats
-#JX -N {job_name}
-#JX -m e
-#JX --mail-list {user_email}
-#JX -S
-export OMP_NUM_THREADS=1
-
-module purge
-module load fjmpi-gcc/8.3.1
-module load /opt/JX/modulefiles/aarch64/python/3.9.1
-module load /opt/local/modulefiles/aarch64/mpi4py/3.1.4
-export LD_PRELOAD=/usr/lib/FJSVtcs/ple/lib64/libpmix.so
-
-source {venv_base}
-cd {coderoot}
-mpiexec -n {mpi_process} python {codename}
-&quot;&quot;&quot;
-
-script_contents = script_contents.format(**locals())
-f = open(jobscript, &quot;wt&quot;)
-f.write(script_contents)
-f.close()
-
-process = subprocess.Popen(&quot;jxsub &quot;+jobscript, shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
-(stdout_data, stderr_data) = process.communicate()
-
-#print useful information
-print(&quot;out: &quot;+str(stdout_data).split('b\'')[1][:-3])
-print(&quot;err: &quot;+str(stderr_data).split('b\'')[1][:-3])
-print('')
-os.remove(jobscript)
</code></pre>
<hr />
<p>Report written on 2023-09-06 15:15:46</p>
    </div>

</body>
</html>